import{e as _,n as B,i as m,y as d,j as o,b as u,h as G,t as k,r as L,F as j,o as H}from"./web-DuEVvOp5.js";import{B as I}from"./BoardImage-Cl8ODxES.js";import{E as O}from"./ExploreNav-B1zBIz9K.js";import{F as q}from"./FilterOptionsComponent-xt4HpjGg.js";import{u as z}from"./Context-D0aeQrfF.js";import{i as D}from"./routing-Bp67eWU0.js";import"./BoardView-BhTIAIwV.js";import"./chess-lriRiorr.js";import"./components-SRTsakbS.js";import"./QJIB6BDF-BszDVaDs.js";import"./JNCCF6MP-yLk7z_SF.js";import"./UKTBL2JL-CnBKWN1M.js";import"./FN6EICGO-iZF3THgN.js";import"./index-HbBCBvHV.js";var J=k('<div class="flex grow gap-4 shrink min-h-0"><!$><!/><div class="flex-grow flex flex-col flex-nowrap"><div></div><div class="overflow-hidden relative min-h-0 grow-0 shrink"><div class="min-h-0 overflow-scroll h-full">'),K=k('<div class="flex lvl-1 border-b hoverable max-w-[800px]"><!$><!/><div class=flex-col><div></div><div></div><div><!$><!/>%');function ne(){const s=z(),[S,C]=_([]),g=_({color:"both",repertoire:"no filter",sortby:"games",view:"list"}),[h,Q]=g,y=async()=>{await s.openingGraph.load_wait(),await s.repertoire.load();const l=h(),a=await s.openingGraph.getAllSplit(),n=(await s.repertoire.getAll()).reduce((t,e)=>(t.set(e.fen,e),t),new Map),c=[...a.whitewhite.values()],p=[...a.blackblack.values()],r=[];l.color==="both"?(r.push(...c),r.push(...p)):l.color==="white"?r.push(...c):r.push(...p);let i=[];l.repertoire==="only"?i=r.filter(t=>n.has(t.fen)):l.repertoire==="exclude"?i=r.filter(t=>!n.has(t.fen)):i=r,i=i.filter(t=>t.count>5),l.sortby==="games"?i.sort((t,e)=>e.count-t.count):l.color==="white"?i.sort((t,e)=>e.result.black/e.result.white-t.result.black/t.result.white):l.color==="black"&&i.sort((t,e)=>e.result.white/e.result.black-t.result.white/t.result.black),C(i.slice(0,100))};B(H(h,async()=>{await y()})),D();const E=l=>{s.ui.board.set({active:!0,fen:l})};return(()=>{var l=m(J),a=l.firstChild,[n,c]=d(a.nextSibling),p=n.nextSibling,r=p.firstChild,i=r.nextSibling,t=i.firstChild;return o(l,u(O,{}),n,c),o(r,u(q,{options:g})),o(t,u(j,{get each(){return S()},children:(e,R)=>(()=>{var f=m(K),F=f.firstChild,[v,N]=d(F.nextSibling),M=v.nextSibling,w=M.firstChild,b=w.nextSibling,x=b.nextSibling,P=x.firstChild,[$,A]=d(P.nextSibling);return $.nextSibling,f.$$click=()=>E(e.fen),o(f,u(I,{get fen(){return e.fen},class:"w-48 h-48"}),v,N),o(w,()=>e.fen),o(b,()=>e.count),o(x,()=>Math.round(h().color==="white"?e.result.white*100/(e.result.white+e.result.black):e.result.black*100/(e.result.white+e.result.black)),$,A),L(),f})()})),l})()}G(["click"]);export{ne as default};
