const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/_...404_-BvibfYUU.js","assets/web-DuEVvOp5.js","assets/about-2p-jjIc5.js","assets/components-SRTsakbS.js","assets/routing-Bp67eWU0.js","assets/create-D0m3zFO4.js","assets/BoardView-BhTIAIwV.js","assets/Context-D0aeQrfF.js","assets/chess-lriRiorr.js","assets/BoardView-avK_zy3L.css","assets/explore-D-TMbrop.js","assets/preload-helper-N37mDRhq.js","assets/FilterOptionsComponent-xt4HpjGg.js","assets/QJIB6BDF-BszDVaDs.js","assets/JNCCF6MP-yLk7z_SF.js","assets/UKTBL2JL-CnBKWN1M.js","assets/FN6EICGO-iZF3THgN.js","assets/index-HbBCBvHV.js","assets/clientOnly-DsafAS6x.js","assets/BoardImage-Cl8ODxES.js","assets/graph-DD5_HFB2.js","assets/index-BVba0hBf.js","assets/RepertoireCard-DZ_THEJ2.js","assets/RepertoireCard-DWfcNWB6.css","assets/old_board-DehSfk1T.js","assets/GameInterfaceCard-Dd9D52Wt.js","assets/old_explore-wVKRrYX5.js","assets/_...fen_-CVzksGVX.js","assets/__fen__-BK09q1XA.js","assets/_...catchall_-pjzsSbF3.js","assets/graph-CVKJ6pc5.js","assets/ExploreNav-B1zBIz9K.js","assets/list-C9jGxO0E.js","assets/tree-Dpa66PEk.js","assets/flashcards-B0pzq9KG.js","assets/repertoire-QfEE5_-H.js","assets/builder-rJv53jPb.js"])))=>i.map(i=>d[i]);
import{c as wr,a as ee,b as f,g as ti,u as ni,S as fe,o as he,d as ri,e as C,f as Q,h as lt,i as X,s as gt,m as S,j as O,r as be,t as U,l as oi,k as Oe,n as L,p as ve,q as xe,v as A,w as de,P as ii,x as _r,y as ie,F as pn,z as $t,A as gn,M as Vt,B as ai,C as si,D as li,E as ui,G as ci,H as di}from"./web-DuEVvOp5.js";import{_ as te}from"./preload-helper-N37mDRhq.js";import{u as Le,d as fi,s as hi,S as Hn,t as Kn,p as pi,a as gi}from"./Context-D0aeQrfF.js";import{R as mi,u as $r,E as bi,a as vi,b as xi}from"./RepertoireCard-DZ_THEJ2.js";import{c as Cr,a as Mi,b as yi,P as Ct,D as Pr,s as ki,d as Ir,e as Sr,f as wi,g as _i,h as $i,i as Ci,F as _n,j as $n,k as Cn,u as Pt,l as Tr,m as Rr,n as Er,o as Dr,p as Or,q as Lr}from"./QJIB6BDF-BszDVaDs.js";import{c as Pi,a as Xe}from"./FN6EICGO-iZF3THgN.js";import{m as F,a as nt,g as Ii,b as Si,P as re,c as ae,d as Y,e as je,f as rt,h as q,i as It,j as Ar,B as Ti,r as Ri,s as Ei,k as Di,_ as Pn,l as Fr,v as Oi,n as Li,E as Ai}from"./UKTBL2JL-CnBKWN1M.js";import{u as ut,c as In,a as ot}from"./JNCCF6MP-yLk7z_SF.js";import{c as Nr,G as Fi}from"./GameInterfaceCard-Dd9D52Wt.js";import{B as Ni}from"./BoardView-BhTIAIwV.js";import{C as zi}from"./chess-lriRiorr.js";import{c as qi,a as Vi,R as Hi,s as Gn,g as Ki,b as Gi,d as Xi,m as Bi,k as ji,e as Ui,f as Yi,n as Wi,u as Zi,h as Ji}from"./routing-Bp67eWU0.js";import"./index-HbBCBvHV.js";const Ht="Invariant Violation",{setPrototypeOf:Qi=function(e,t){return e.__proto__=t,e}}=Object;class Sn extends Error{framesToPop=1;name=Ht;constructor(t=Ht){super(typeof t=="number"?`${Ht}: ${t} (see https://github.com/apollographql/invariant-packages)`:t),Qi(this,Sn.prototype)}}function Kt(e,t){if(!e)throw new Sn(t)}const ea=/^[A-Za-z]:\//;function ta(e=""){return e&&e.replace(/\\/g,"/").replace(ea,t=>t.toUpperCase())}const na=/^[/\\]{2}/,ra=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,oa=/^[A-Za-z]:$/,ia=function(e){if(e.length===0)return".";e=ta(e);const t=e.match(na),n=mn(e),r=e[e.length-1]==="/";return e=aa(e,!n),e.length===0?n?"/":r?"./":".":(r&&(e+="/"),oa.test(e)&&(e+="/"),t?n?`//${e}`:`//./${e}`:n&&!mn(e)?`/${e}`:e)},zr=function(...e){if(e.length===0)return".";let t;for(const n of e)n&&n.length>0&&(t===void 0?t=n:t+=`/${n}`);return t===void 0?".":ia(t.replace(/\/\/+/g,"/"))};function aa(e,t){let n="",r=0,o=-1,i=0,a=null;for(let s=0;s<=e.length;++s){if(s<e.length)a=e[s];else{if(a==="/")break;a="/"}if(a==="/"){if(!(o===s-1||i===1))if(i===2){if(n.length<2||r!==2||n[n.length-1]!=="."||n[n.length-2]!=="."){if(n.length>2){const l=n.lastIndexOf("/");l===-1?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),o=s,i=0;continue}else if(n.length>0){n="",r=0,o=s,i=0;continue}}t&&(n+=n.length>0?"/..":"..",r=2)}else n.length>0?n+=`/${e.slice(o+1,s)}`:n=e.slice(o+1,s),r=s-o-1;o=s,i=0}else a==="."&&i!==-1?++i:i=-1}return n}const mn=function(e){return ra.test(e)};function sa(e){return`virtual:${e}`}function la(e){return e.handler?.endsWith(".html")?mn(e.handler)?e.handler:zr(e.root,e.handler):`$vinxi/handler/${e.name}`}const ua=new Proxy({},{get(e,t){return Kt(typeof t=="string","Bundler name should be a string"),{name:t,type:"client",handler:sa(la({name:t})),baseURL:"/_build",chunks:new Proxy({},{get(n,r){Kt(typeof r=="string","Chunk expected");let o=zr("/_build",r+".mjs");return{import(){return import(o)},output:{path:o}}}}),inputs:new Proxy({},{get(n,r){Kt(typeof r=="string","Input must be string");let o=window.manifest[r].output;return{async import(){return import(o)},async assets(){return window.manifest[r].assets},output:{path:o}}}})}}});globalThis.MANIFEST=ua;const ca=e=>t=>{const{base:n}=t,r=wr(()=>t.children),o=ee(()=>qi(r(),t.base||""));let i;const a=Vi(e,o,()=>i,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(a),f(Hi.Provider,{value:a,get children(){return f(da,{routerState:a,get root(){return t.root},get load(){return t.rootLoad},get children(){return[ee(()=>(i=ti())&&null),f(fa,{routerState:a,get branches(){return o()}})]}})}})};function da(e){const t=e.routerState.location,n=e.routerState.params,r=ee(()=>e.load&&ni(()=>{Gn(!0),e.load({params:n,location:t,intent:Ki()||"initial"}),Gn(!1)}));return f(fe,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:o=>f(o,{params:n,location:t,get data(){return r()},get children(){return e.children}})})}function fa(e){const t=[];let n;const r=ee(he(e.routerState.matches,(o,i,a)=>{let s=i&&o.length===i.length;const l=[];for(let u=0,c=o.length;u<c;u++){const d=i&&i[u],h=o[u];a&&d&&h.route.key===d.route.key?l[u]=a[u]:(s=!1,t[u]&&t[u](),ri(b=>{t[u]=b,l[u]=Gi(e.routerState,l[u-1]||e.routerState.base,Xn(()=>r()[u+1]),()=>e.routerState.matches()[u])}))}return t.splice(o.length).forEach(u=>u()),a&&s?a:(n=l[0],l)}));return Xn(()=>r()&&n)()}const Xn=e=>()=>f(fe,{get when(){return e()},keyed:!0,children:t=>f(Xi.Provider,{value:t,get children(){return t.outlet()}})});function ha([e,t],n,r){return[e,r?o=>t(r(o)):t]}function pa(e){if(e==="#")return null;try{return document.querySelector(e)}catch{return null}}function ga(e){let t=!1;const n=o=>typeof o=="string"?{value:o}:o,r=ha(C(n(e.get()),{equals:(o,i)=>o.value===i.value&&o.state===i.state}),void 0,o=>(!t&&e.set(o),o));return e.init&&Q(e.init((o=e.get())=>{t=!0,r[1](n(o)),t=!1})),ca({signal:r,create:e.create,utils:e.utils})}function ma(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function ba(e,t){const n=pa(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const va=new Map;function xa(e=!0,t=!1,n="/_server",r){return o=>{const i=o.base.path(),a=o.navigatorFactory(o.base);let s={};function l(M){return M.namespaceURI==="http://www.w3.org/2000/svg"}function u(M){if(M.defaultPrevented||M.button!==0||M.metaKey||M.altKey||M.ctrlKey||M.shiftKey)return;const v=M.composedPath().find(E=>E instanceof Node&&E.nodeName.toUpperCase()==="A");if(!v||t&&!v.hasAttribute("link"))return;const m=l(v),g=m?v.href.baseVal:v.href;if((m?v.target.baseVal:v.target)||!g&&!v.hasAttribute("state"))return;const w=(v.getAttribute("rel")||"").split(/\s+/);if(v.hasAttribute("download")||w&&w.includes("external"))return;const $=m?new URL(g,document.baseURI):new URL(g);if(!($.origin!==window.location.origin||i&&$.pathname&&!$.pathname.toLowerCase().startsWith(i.toLowerCase())))return[v,$]}function c(M){const v=u(M);if(!v)return;const[m,g]=v,p=o.parsePath(g.pathname+g.search+g.hash),w=m.getAttribute("state");M.preventDefault(),a(p,{resolve:!1,replace:m.hasAttribute("replace"),scroll:!m.hasAttribute("noscroll"),state:w&&JSON.parse(w)})}function d(M){const v=u(M);if(!v)return;const[m,g]=v;typeof r=="function"&&(g.pathname=r(g.pathname)),s[g.pathname]||o.preloadRoute(g,{preloadData:m.getAttribute("preload")!=="false"})}function h(M){const v=u(M);if(!v)return;const[m,g]=v;typeof r=="function"&&(g.pathname=r(g.pathname)),!s[g.pathname]&&(s[g.pathname]=setTimeout(()=>{o.preloadRoute(g,{preloadData:m.getAttribute("preload")!=="false"}),delete s[g.pathname]},200))}function b(M){const v=u(M);if(!v)return;const[,m]=v;typeof r=="function"&&(m.pathname=r(m.pathname)),s[m.pathname]&&(clearTimeout(s[m.pathname]),delete s[m.pathname])}function x(M){if(M.defaultPrevented)return;let v=M.submitter&&M.submitter.hasAttribute("formaction")?M.submitter.getAttribute("formaction"):M.target.getAttribute("action");if(!v)return;if(!v.startsWith("https://action/")){const g=new URL(v,Bi);if(v=o.parsePath(g.pathname+g.search),!v.startsWith(n))return}if(M.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const m=va.get(v);if(m){M.preventDefault();const g=new FormData(M.target);M.submitter&&M.submitter.name&&g.append(M.submitter.name,M.submitter.value),m.call({r:o,f:M.target},g)}}lt(["click","submit"]),document.addEventListener("click",c),e&&(document.addEventListener("mouseover",h),document.addEventListener("mouseout",b),document.addEventListener("focusin",d),document.addEventListener("touchstart",d)),document.addEventListener("submit",x),Q(()=>{document.removeEventListener("click",c),e&&(document.removeEventListener("mouseover",h),document.removeEventListener("mouseout",b),document.removeEventListener("focusin",d),document.removeEventListener("touchstart",d)),document.removeEventListener("submit",x)})}}function Ma(e){const t=()=>{const r=window.location.pathname+window.location.search;return{value:e.transformUrl?e.transformUrl(r)+window.location.hash:r+window.location.hash,state:window.history.state}},n=Yi();return ga({get:t,set({value:r,replace:o,scroll:i,state:a}){o?window.history.replaceState(ji(a),"",r):window.history.pushState(a,"",r),ba(decodeURIComponent(window.location.hash.slice(1)),i),Ui()},init:r=>ma(window,"popstate",Wi(r,o=>{if(o&&o<0)return!n.confirm(o);{const i=t();return!n.confirm(i.value,{state:i.state})}})),create:xa(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:r=>window.history.go(r),beforeLeave:n}})(e)}function ya(e){e.forEach(t=>{if(!t.attrs.href)return;let n=document.head.querySelector(`link[href="${t.attrs.href}"]`);n||(n=document.createElement("link"),n.setAttribute("rel","preload"),n.setAttribute("as","style"),n.setAttribute("href",t.attrs.href),document.head.appendChild(n))})}var ka=U("<style>"),wa=U("<link>"),_a=U("<script> "),$a=U("<noscript>");const Ca={style:e=>(()=>{var t=X(ka);return gt(t,S(()=>e.attrs),!1,!0),O(t,()=>e.children),be(),t})(),link:e=>(()=>{var t=X(wa);return gt(t,S(()=>e.attrs),!1,!1),be(),t})(),script:e=>e.attrs.src?(()=>{var t=X(_a);return gt(t,S(()=>e.attrs,{get id(){return e.key}}),!1,!0),be(),t})():null,noscript:e=>(()=>{var t=X($a);return gt(t,S(()=>e.attrs),!1,!0),be(),t})()};function Pa(e,t){let{tag:n,attrs:{key:r,...o}={key:void 0},children:i}=e;return Ca[n]({attrs:{...o,nonce:t},key:r,children:i})}function Ia(e,t,n,r="default"){return oi(async()=>{{const i=(await e.import())[r],s=(await t.inputs?.[e.src].assets()).filter(u=>u.tag==="style"||u.attrs.rel==="stylesheet");return typeof window<"u"&&ya(s),{default:u=>[...s.map(c=>Pa(c)),f(i,u)]}}})}const He={NORMAL:0,WILDCARD:1,PLACEHOLDER:2};function Sa(e={}){const t={options:e,rootNode:qr(),staticRoutesMap:{}},n=r=>e.strictTrailingSlash?r:r.replace(/\/$/,"")||"/";if(e.routes)for(const r in e.routes)Bn(t,n(r),e.routes[r]);return{ctx:t,lookup:r=>Ta(t,n(r)),insert:(r,o)=>Bn(t,n(r),o),remove:r=>Ra(t,n(r))}}function Ta(e,t){const n=e.staticRoutesMap[t];if(n)return n.data;const r=t.split("/"),o={};let i=!1,a=null,s=e.rootNode,l=null;for(let u=0;u<r.length;u++){const c=r[u];s.wildcardChildNode!==null&&(a=s.wildcardChildNode,l=r.slice(u).join("/"));const d=s.children.get(c);if(d===void 0){if(s&&s.placeholderChildren.length>1){const h=r.length-u;s=s.placeholderChildren.find(b=>b.maxDepth===h)||null}else s=s.placeholderChildren[0]||null;if(!s)break;s.paramName&&(o[s.paramName]=c),i=!0}else s=d}return(s===null||s.data===null)&&a!==null&&(s=a,o[s.paramName||"_"]=l,i=!0),s?i?{...s.data,params:i?o:void 0}:s.data:null}function Bn(e,t,n){let r=!0;const o=t.split("/");let i=e.rootNode,a=0;const s=[i];for(const l of o){let u;if(u=i.children.get(l))i=u;else{const c=Ea(l);u=qr({type:c,parent:i}),i.children.set(l,u),c===He.PLACEHOLDER?(u.paramName=l==="*"?`_${a++}`:l.slice(1),i.placeholderChildren.push(u),r=!1):c===He.WILDCARD&&(i.wildcardChildNode=u,u.paramName=l.slice(3)||"_",r=!1),s.push(u),i=u}}for(const[l,u]of s.entries())u.maxDepth=Math.max(s.length-l,u.maxDepth||0);return i.data=n,r===!0&&(e.staticRoutesMap[t]=i),i}function Ra(e,t){let n=!1;const r=t.split("/");let o=e.rootNode;for(const i of r)if(o=o.children.get(i),!o)return n;if(o.data){const i=r.at(-1)||"";o.data=null,Object.keys(o.children).length===0&&o.parent&&(o.parent.children.delete(i),o.parent.wildcardChildNode=null,o.parent.placeholderChildren=[]),n=!0}return n}function qr(e={}){return{type:e.type||He.NORMAL,maxDepth:0,parent:e.parent||null,children:new Map,data:e.data||null,paramName:e.paramName||null,wildcardChildNode:null,placeholderChildren:[]}}function Ea(e){return e.startsWith("**")?He.WILDCARD:e[0]===":"||e==="*"?He.PLACEHOLDER:He.NORMAL}const Vr=[{page:!0,$component:{src:"src/routes/[...404].tsx?pick=default&pick=$css",build:()=>te(()=>import("./_...404_-BvibfYUU.js"),__vite__mapDeps([0,1])),import:()=>import(globalThis.MANIFEST.client.inputs["src/routes/[...404].tsx?pick=default&pick=$css"].output.path)},path:"/*404",filePath:"/home/runner/work/saknoto/saknoto/src/routes/[...404].tsx"},{page:!0,$component:{src:"src/routes/about.tsx?pick=default&pick=$css",build:()=>te(()=>import("./about-2p-jjIc5.js"),__vite__mapDeps([2,1,3,4])),import:()=>import(globalThis.MANIFEST.client.inputs["src/routes/about.tsx?pick=default&pick=$css"].output.path)},path:"/about",filePath:"/home/runner/work/saknoto/saknoto/src/routes/about.tsx"},{page:!0,$component:{src:"src/routes/create.tsx?pick=default&pick=$css",build:()=>te(()=>import("./create-D0m3zFO4.js"),__vite__mapDeps([5,1,6,7,8,9])),import:()=>import(globalThis.MANIFEST.client.inputs["src/routes/create.tsx?pick=default&pick=$css"].output.path)},path:"/create",filePath:"/home/runner/work/saknoto/saknoto/src/routes/create.tsx"},{page:!0,$component:{src:"src/routes/explore.tsx?pick=default&pick=$css",build:()=>te(()=>import("./explore-D-TMbrop.js"),__vite__mapDeps([10,11,1,12,13,14,15,16,17,7,8,18,19,6,9])),import:()=>import(globalThis.MANIFEST.client.inputs["src/routes/explore.tsx?pick=default&pick=$css"].output.path)},path:"/explore",filePath:"/home/runner/work/saknoto/saknoto/src/routes/explore.tsx"},{page:!0,$component:{src:"src/routes/graph.tsx?pick=default&pick=$css",build:()=>te(()=>import("./graph-DD5_HFB2.js"),__vite__mapDeps([20,11,1,7,8,18])),import:()=>import(globalThis.MANIFEST.client.inputs["src/routes/graph.tsx?pick=default&pick=$css"].output.path)},path:"/graph",filePath:"/home/runner/work/saknoto/saknoto/src/routes/graph.tsx"},{page:!0,$component:{src:"src/routes/index.tsx?pick=default&pick=$css",build:()=>te(()=>import("./index-BVba0hBf.js"),__vite__mapDeps([21,1,15,6,7,8,9,22,17,23])),import:()=>import(globalThis.MANIFEST.client.inputs["src/routes/index.tsx?pick=default&pick=$css"].output.path)},path:"/",filePath:"/home/runner/work/saknoto/saknoto/src/routes/index.tsx"},{page:!0,$component:{src:"src/routes/old_board.tsx?pick=default&pick=$css",build:()=>te(()=>import("./old_board-DehSfk1T.js"),__vite__mapDeps([24,1,6,7,8,9,22,17,15,23,25,16,4])),import:()=>import(globalThis.MANIFEST.client.inputs["src/routes/old_board.tsx?pick=default&pick=$css"].output.path)},path:"/old_board",filePath:"/home/runner/work/saknoto/saknoto/src/routes/old_board.tsx"},{page:!0,$component:{src:"src/routes/old_explore.tsx?pick=default&pick=$css",build:()=>te(()=>import("./old_explore-wVKRrYX5.js"),__vite__mapDeps([26,1,19,6,7,8,9])),import:()=>import(globalThis.MANIFEST.client.inputs["src/routes/old_explore.tsx?pick=default&pick=$css"].output.path)},path:"/old_explore",filePath:"/home/runner/work/saknoto/saknoto/src/routes/old_explore.tsx"},{page:!0,$component:{src:"src/routes/board/[...fen].tsx?pick=default&pick=$css",build:()=>te(()=>import("./_...fen_-CVzksGVX.js"),__vite__mapDeps([27,1,8,4])),import:()=>import(globalThis.MANIFEST.client.inputs["src/routes/board/[...fen].tsx?pick=default&pick=$css"].output.path)},path:"/board/*fen",filePath:"/home/runner/work/saknoto/saknoto/src/routes/board/[...fen].tsx"},{page:!0,$component:{src:"src/routes/board/[[fen]].tsx?pick=default&pick=$css",build:()=>te(()=>import("./__fen__-BK09q1XA.js"),__vite__mapDeps([28,1,6,7,8,9,22,17,15,23,25,16,4])),import:()=>import(globalThis.MANIFEST.client.inputs["src/routes/board/[[fen]].tsx?pick=default&pick=$css"].output.path)},path:"/board/:fen?",filePath:"/home/runner/work/saknoto/saknoto/src/routes/board/[[fen]].tsx"},{page:!0,$component:{src:"src/routes/old_dir_explore/[...catchall].tsx?pick=default&pick=$css",build:()=>te(()=>import("./_...catchall_-pjzsSbF3.js"),__vite__mapDeps([29,1,4])),import:()=>import(globalThis.MANIFEST.client.inputs["src/routes/old_dir_explore/[...catchall].tsx?pick=default&pick=$css"].output.path)},path:"/old_dir_explore/*catchall",filePath:"/home/runner/work/saknoto/saknoto/src/routes/old_dir_explore/[...catchall].tsx"},{page:!0,$component:{src:"src/routes/old_dir_explore/graph.tsx?pick=default&pick=$css",build:()=>te(()=>import("./graph-CVKJ6pc5.js"),__vite__mapDeps([30,1,31,3,4])),import:()=>import(globalThis.MANIFEST.client.inputs["src/routes/old_dir_explore/graph.tsx?pick=default&pick=$css"].output.path)},path:"/old_dir_explore/graph",filePath:"/home/runner/work/saknoto/saknoto/src/routes/old_dir_explore/graph.tsx"},{page:!0,$component:{src:"src/routes/old_dir_explore/list.tsx?pick=default&pick=$css",build:()=>te(()=>import("./list-C9jGxO0E.js"),__vite__mapDeps([32,1,19,6,7,8,9,31,3,4,12,13,14,15,16,17])),import:()=>import(globalThis.MANIFEST.client.inputs["src/routes/old_dir_explore/list.tsx?pick=default&pick=$css"].output.path)},path:"/old_dir_explore/list",filePath:"/home/runner/work/saknoto/saknoto/src/routes/old_dir_explore/list.tsx"},{page:!0,$component:{src:"src/routes/old_dir_explore/tree.tsx?pick=default&pick=$css",build:()=>te(()=>import("./tree-Dpa66PEk.js"),__vite__mapDeps([33,1,31,3,4])),import:()=>import(globalThis.MANIFEST.client.inputs["src/routes/old_dir_explore/tree.tsx?pick=default&pick=$css"].output.path)},path:"/old_dir_explore/tree",filePath:"/home/runner/work/saknoto/saknoto/src/routes/old_dir_explore/tree.tsx"},{page:!0,$component:{src:"src/routes/study/flashcards.tsx?pick=default&pick=$css",build:()=>te(()=>import("./flashcards-B0pzq9KG.js"),__vite__mapDeps([34,1,8,7,6,9])),import:()=>import(globalThis.MANIFEST.client.inputs["src/routes/study/flashcards.tsx?pick=default&pick=$css"].output.path)},path:"/study/flashcards",filePath:"/home/runner/work/saknoto/saknoto/src/routes/study/flashcards.tsx"},{page:!0,$component:{src:"src/routes/study/repertoire.tsx?pick=default&pick=$css",build:()=>te(()=>import("./repertoire-QfEE5_-H.js"),__vite__mapDeps([35,1,19,6,7,8,9])),import:()=>import(globalThis.MANIFEST.client.inputs["src/routes/study/repertoire.tsx?pick=default&pick=$css"].output.path)},path:"/study/repertoire",filePath:"/home/runner/work/saknoto/saknoto/src/routes/study/repertoire.tsx"},{page:!0,$component:{src:"src/routes/tools/builder.tsx?pick=default&pick=$css",build:()=>te(()=>import("./builder-rJv53jPb.js"),__vite__mapDeps([36,1,14,15,7,8])),import:()=>import(globalThis.MANIFEST.client.inputs["src/routes/tools/builder.tsx?pick=default&pick=$css"].output.path)},path:"/tools/builder",filePath:"/home/runner/work/saknoto/saknoto/src/routes/tools/builder.tsx"}],Da=Oa(Vr.filter(e=>e.page));function Oa(e){function t(n,r,o,i){const a=Object.values(n).find(s=>o.startsWith(s.id+"/"));return a?(t(a.children||(a.children=[]),r,o.slice(a.id.length)),n):(n.push({...r,id:o,path:o.replace(/\/\([^)/]+\)/g,"").replace(/\([^)/]+\)/g,"")}),n)}return e.sort((n,r)=>n.path.length-r.path.length).reduce((n,r)=>t(n,r,r.path,r.path),[])}function La(e){return e.$GET||e.$POST||e.$PUT||e.$PATCH||e.$DELETE}Sa({routes:Vr.reduce((e,t)=>{if(!La(t))return e;let n=t.path.replace(/\/\([^)/]+\)/g,"").replace(/\([^)/]+\)/g,"").replace(/\*([^/]*)/g,(r,o)=>`**:${o}`);if(/:[^/]*\?/g.test(n))throw new Error(`Optional parameters are not supported in API routes: ${n}`);if(e[n])throw new Error(`Duplicate API routes for "${n}" found at "${e[n].route.path}" and "${t.path}"`);return e[n]={route:t},e},{})});function Aa(){function e(n){return{...n,...n.$$route?n.$$route.require().route:void 0,info:{...n.$$route?n.$$route.require().route.info:{},filesystem:!0},component:n.$component&&Ia(n.$component,globalThis.MANIFEST.client,globalThis.MANIFEST.ssr),children:n.children?n.children.map(e):void 0}}return Da.map(e)}let jn;const Fa=()=>jn||(jn=Aa());var Na=U('<div class="flex items-center"><div class="hover:cursor-pointer dark:bg-accent-800 bg-accent-200 hover:bg-accent-300 dark:hover:bg-accent-700 px-4 py-1 rounded-full">');function za(){const e=Le(),[t,n]=C();Oe(()=>{e.themeManager.loadSaved(),e.themeManager.onChange((o,i)=>{n(i)})});const r=()=>{console.log("hey!"),e.ui.sidebar.set({active:!0,view:"theme"})};return(()=>{var o=X(Na),i=o.firstChild;return o.$$click=()=>r(),O(i,t),be(),o})()}lt(["click"]);function qa(e){const[t,n]=C(0),[r,o]=C(0);L(()=>{const s=e();if(!s)return;a(s);const l=new ResizeObserver(i);l.observe(s),Q(()=>{l.disconnect()})});const i=s=>{for(const l of s)l.target===e()&&a(l.target)},a=s=>{o(s.offsetWidth),n(s.offsetHeight)};return{width:r,height:t}}var Hr=xe();function Kr(){return ve(Hr)}function Va(){const e=Kr();if(e===void 0)throw new Error("[kobalte]: `useDomCollectionContext` must be used within a `DomCollectionProvider` component");return e}function Gr(e,t){return!!(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}function Ha(e,t){const n=t.ref();if(!n)return-1;let r=e.length;if(!r)return-1;for(;r--;){const o=e[r]?.ref();if(o&&Gr(o,n))return r+1}return 0}function Ka(e){const t=e.map((r,o)=>[o,r]);let n=!1;return t.sort(([r,o],[i,a])=>{const s=o.ref(),l=a.ref();return s===l||!s||!l?0:Gr(s,l)?(r>i&&(n=!0),-1):(r<i&&(n=!0),1)}),n?t.map(([r,o])=>o):e}function Xr(e,t){const n=Ka(e);e!==n&&t(n)}function Ga(e){const t=e[0],n=e[e.length-1]?.ref();let r=t?.ref()?.parentElement;for(;r;){if(n&&r.contains(n))return r;r=r.parentElement}return Ii(r).body}function Xa(e,t){L(()=>{const n=setTimeout(()=>{Xr(e(),t)});Q(()=>clearTimeout(n))})}function Ba(e,t){if(typeof IntersectionObserver!="function"){Xa(e,t);return}let n=[];L(()=>{const r=()=>{const a=!!n.length;n=e(),a&&Xr(e(),t)},o=Ga(e()),i=new IntersectionObserver(r,{root:o});for(const a of e()){const s=a.ref();s&&i.observe(s)}Q(()=>i.disconnect())})}function ja(e={}){const[t,n]=Pi({value:()=>nt(e.items),onChange:i=>e.onItemsChange?.(i)});Ba(t,n);const r=i=>(n(a=>{const s=Ha(a,i);return Si(a,i,s)}),()=>{n(a=>{const s=a.filter(l=>l.ref()!==i.ref());return a.length===s.length?a:s})});return{DomCollectionProvider:i=>f(Hr.Provider,{value:{registerItem:r},get children(){return i.children}})}}function Ua(e){const t=Va(),n=F({shouldRegisterItem:!0},e);L(()=>{if(!n.shouldRegisterItem)return;const r=t.registerItem(n.getItem());Q(r)})}var Br=xe();function St(){return ve(Br)}function ye(){const e=St();if(e===void 0)throw new Error("[kobalte]: `useMenuContext` must be used within a `Menu` component");return e}var jr=xe();function Tn(){const e=ve(jr);if(e===void 0)throw new Error("[kobalte]: `useMenuItemContext` must be used within a `Menu.Item` component");return e}var Ur=xe();function Me(){const e=ve(Ur);if(e===void 0)throw new Error("[kobalte]: `useMenuRootContext` must be used within a `MenuRoot` component");return e}function Rn(e){let t;const n=Me(),r=ye(),o=F({id:n.generateId(`item-${de()}`)},e),[i,a]=A(o,["ref","textValue","disabled","closeOnSelect","checked","indeterminate","onSelect","onPointerMove","onPointerLeave","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]),[s,l]=C(),[u,c]=C(),[d,h]=C(),b=()=>r.listState().selectionManager(),x=()=>a.id,M=()=>b().focusedKey()===x(),v=()=>{i.onSelect?.(),i.closeOnSelect&&setTimeout(()=>{r.close(!0)})};Ua({getItem:()=>({ref:()=>t,type:"item",key:x(),textValue:i.textValue??d()?.textContent??t?.textContent??"",disabled:i.disabled??!1})});const m=Cr({key:x,selectionManager:b,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,disabled:()=>i.disabled},()=>t),g=_=>{q(_,i.onPointerMove),_.pointerType==="mouse"&&(i.disabled?r.onItemLeave(_):(r.onItemEnter(_),_.defaultPrevented||(It(_.currentTarget),r.listState().selectionManager().setFocused(!0),r.listState().selectionManager().setFocusedKey(x()))))},p=_=>{q(_,i.onPointerLeave),_.pointerType==="mouse"&&r.onItemLeave(_)},w=_=>{q(_,i.onPointerUp),!i.disabled&&_.button===0&&v()},$=_=>{if(q(_,i.onKeyDown),!_.repeat&&!i.disabled)switch(_.key){case"Enter":case" ":v();break}},E=ee(()=>{if(i.indeterminate)return"mixed";if(i.checked!=null)return i.checked}),z=ee(()=>({"data-indeterminate":i.indeterminate?"":void 0,"data-checked":i.checked&&!i.indeterminate?"":void 0,"data-disabled":i.disabled?"":void 0,"data-highlighted":M()?"":void 0})),P={isChecked:()=>i.checked,dataset:z,setLabelRef:h,generateId:je(()=>a.id),registerLabel:ot(l),registerDescription:ot(c)};return f(jr.Provider,{value:P,get children(){return f(re,S({as:"div",ref(_){var T=ae(D=>t=D,i.ref);typeof T=="function"&&T(_)},get tabIndex(){return m.tabIndex()},get"aria-checked"(){return E()},get"aria-disabled"(){return i.disabled},get"aria-labelledby"(){return s()},get"aria-describedby"(){return u()},get"data-key"(){return m.dataKey()},get onPointerDown(){return Y([i.onPointerDown,m.onPointerDown])},get onPointerUp(){return Y([w,m.onPointerUp])},get onClick(){return Y([i.onClick,m.onClick])},get onKeyDown(){return Y([$,m.onKeyDown])},get onMouseDown(){return Y([i.onMouseDown,m.onMouseDown])},get onFocus(){return Y([i.onFocus,m.onFocus])},onPointerMove:g,onPointerLeave:p},z,a))}})}function Ya(e){const t=F({closeOnSelect:!1},e),[n,r]=A(t,["checked","defaultChecked","onChange","onSelect"]),o=Nr({isSelected:()=>n.checked,defaultIsSelected:()=>n.defaultChecked,onSelectedChange:a=>n.onChange?.(a),isDisabled:()=>r.disabled});return f(Rn,S({role:"menuitemcheckbox",get checked(){return o.isSelected()},onSelect:()=>{n.onSelect?.(),o.toggle()}},r))}var Yr=xe();function ct(){return ve(Yr)}function Ue(){const e=ct();if(e===void 0)throw new Error("[kobalte]: `useMenubarContext` must be used within a `Menubar` component");return e}var it={next:(e,t)=>e==="ltr"?t==="horizontal"?"ArrowRight":"ArrowDown":t==="horizontal"?"ArrowLeft":"ArrowUp",previous:(e,t)=>it.next(e==="ltr"?"rtl":"ltr",t)},Un={first:e=>e==="horizontal"?"ArrowDown":"ArrowRight",last:e=>e==="horizontal"?"ArrowUp":"ArrowLeft"};function Yn(e){const t=Me(),n=ye(),r=ct(),{direction:o}=ut(),i=F({id:t.generateId("trigger")},e),[a,s]=A(i,["ref","id","disabled","onPointerDown","onClick","onKeyDown","onMouseOver","onFocus"]);let l=()=>t.value();r!==void 0&&(l=()=>t.value()??a.id,r.lastValue()===void 0&&r.setLastValue(l));const u=Ar(()=>n.triggerRef(),()=>"button"),c=ee(()=>u()==="a"&&n.triggerRef()?.getAttribute("href")!=null);L(he(()=>r?.value(),m=>{c()&&m===l()&&n.triggerRef()?.focus()}));const d=()=>{r!==void 0?n.isOpen()?r.value()===l()&&r.closeMenu():(r.autoFocusMenu()||r.setAutoFocusMenu(!0),n.open(!1)):n.toggle(!0)},h=m=>{q(m,a.onPointerDown),m.currentTarget.dataset.pointerType=m.pointerType,!a.disabled&&m.pointerType!=="touch"&&m.button===0&&d()},b=m=>{q(m,a.onClick),a.disabled||m.currentTarget.dataset.pointerType==="touch"&&d()},x=m=>{if(q(m,a.onKeyDown),!a.disabled){if(c())switch(m.key){case"Enter":case" ":return}switch(m.key){case"Enter":case" ":case Un.first(t.orientation()):m.stopPropagation(),m.preventDefault(),Ei(m.currentTarget),n.open("first"),r?.setAutoFocusMenu(!0),r?.setValue(l);break;case Un.last(t.orientation()):m.stopPropagation(),m.preventDefault(),n.open("last");break;case it.next(o(),t.orientation()):if(r===void 0)break;m.stopPropagation(),m.preventDefault(),r.nextMenu();break;case it.previous(o(),t.orientation()):if(r===void 0)break;m.stopPropagation(),m.preventDefault(),r.previousMenu();break}}},M=m=>{q(m,a.onMouseOver),n.triggerRef()?.dataset.pointerType!=="touch"&&!a.disabled&&r!==void 0&&r.value()!==void 0&&r.setValue(l)},v=m=>{q(m,a.onFocus),r!==void 0&&m.currentTarget.dataset.pointerType!=="touch"&&r.setValue(l)};return L(()=>Q(n.registerTriggerId(a.id))),f(Ti,S({ref(m){var g=ae(n.setTriggerRef,a.ref);typeof g=="function"&&g(m)},get"data-kb-menu-value-trigger"(){return t.value()},get id(){return a.id},get disabled(){return a.disabled},"aria-haspopup":"true",get"aria-expanded"(){return n.isOpen()},get"aria-controls"(){return ee(()=>!!n.isOpen())()?n.contentId():void 0},get"data-highlighted"(){return l()!==void 0&&r?.value()===l()?!0:void 0},get tabIndex(){return r!==void 0?r.value()===l()||r.lastValue()===l()?0:-1:void 0},onPointerDown:h,onMouseOver:M,onClick:b,onKeyDown:x,onFocus:v,role:r!==void 0?"menuitem":void 0},()=>n.dataset(),s))}var Wr=xe();function En(){return ve(Wr)}function dt(){const e=En();if(e===void 0)throw new Error("[kobalte]: `useNavigationMenuContext` must be used within a `NavigationMenu` component");return e}function Zr(e){let t;const n=Me(),r=ye(),o=ct(),i=En(),{direction:a}=ut(),s=F({id:n.generateId(`content-${de()}`)},e),[l,u]=A(s,["ref","id","style","onOpenAutoFocus","onCloseAutoFocus","onEscapeKeyDown","onFocusOutside","onPointerEnter","onPointerMove","onKeyDown","onMouseDown","onFocusIn","onFocusOut"]);let c=0;const d=()=>r.parentMenuContext()==null&&o===void 0&&n.isModal(),h=Mi({selectionManager:r.listState().selectionManager,collection:r.listState().collection,autoFocus:r.autoFocus,deferAutoFocus:!0,shouldFocusWrap:!0,disallowTypeAhead:()=>!r.listState().selectionManager().isFocused(),orientation:()=>n.orientation()==="horizontal"?"vertical":"horizontal"},()=>t);yi({trapFocus:()=>d()&&r.isOpen(),onMountAutoFocus:p=>{o===void 0&&l.onOpenAutoFocus?.(p)},onUnmountAutoFocus:l.onCloseAutoFocus},()=>t);const b=p=>{if(rt(p.currentTarget,p.target)&&(p.key==="Tab"&&r.isOpen()&&p.preventDefault(),o!==void 0&&p.currentTarget.getAttribute("aria-haspopup")!=="true"))switch(p.key){case it.next(a(),n.orientation()):p.stopPropagation(),p.preventDefault(),r.close(!0),o.setAutoFocusMenu(!0),o.nextMenu();break;case it.previous(a(),n.orientation()):if(p.currentTarget.hasAttribute("data-closed"))break;p.stopPropagation(),p.preventDefault(),r.close(!0),o.setAutoFocusMenu(!0),o.previousMenu();break}},x=p=>{l.onEscapeKeyDown?.(p),o?.setAutoFocusMenu(!1),r.close(!0)},M=p=>{l.onFocusOutside?.(p),n.isModal()&&p.preventDefault()},v=p=>{q(p,l.onPointerEnter),r.isOpen()&&(r.parentMenuContext()?.listState().selectionManager().setFocused(!1),r.parentMenuContext()?.listState().selectionManager().setFocusedKey(void 0))},m=p=>{if(q(p,l.onPointerMove),p.pointerType!=="mouse")return;const w=p.target,$=c!==p.clientX;rt(p.currentTarget,w)&&$&&(r.setPointerDir(p.clientX>c?"right":"left"),c=p.clientX)};L(()=>Q(r.registerContentId(l.id)));const g={ref:ae(p=>{r.setContentRef(p),t=p},l.ref),role:"menu",get id(){return l.id},get tabIndex(){return h.tabIndex()},get"aria-labelledby"(){return r.triggerId()},onKeyDown:Y([l.onKeyDown,h.onKeyDown,b]),onMouseDown:Y([l.onMouseDown,h.onMouseDown]),onFocusIn:Y([l.onFocusIn,h.onFocusIn]),onFocusOut:Y([l.onFocusOut,h.onFocusOut]),onPointerEnter:v,onPointerMove:m,get"data-orientation"(){return n.orientation()}};return f(fe,{get when(){return r.contentPresent()},get children(){return f(fe,{get when(){return i===void 0||r.parentMenuContext()!=null},get fallback(){return f(re,S({as:"div"},()=>r.dataset(),g,u))},get children(){return f(Ct.Positioner,{get children(){return f(Pr,S({get disableOutsidePointerEvents(){return ee(()=>!!d())()&&r.isOpen()},get excludedElements(){return[r.triggerRef]},bypassTopMostLayerCheck:!0,get style(){return In({"--kb-menu-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative"},l.style)},onEscapeKeyDown:x,onFocusOutside:M,get onDismiss(){return r.close}},()=>r.dataset(),g,u))}})}})}})}function Wa(e){let t;const n=Me(),r=ye(),[o,i]=A(e,["ref"]);return ki({element:()=>t??null,enabled:()=>r.contentPresent()&&n.preventScroll()}),f(Zr,S({ref(a){var s=ae(l=>{t=l},o.ref);typeof s=="function"&&s(a)}},i))}var Jr=xe();function Za(){const e=ve(Jr);if(e===void 0)throw new Error("[kobalte]: `useMenuGroupContext` must be used within a `Menu.Group` component");return e}function Qr(e){const t=Me(),n=F({id:t.generateId(`group-${de()}`)},e),[r,o]=C(),i={generateId:je(()=>n.id),registerLabelId:ot(o)};return f(Jr.Provider,{value:i,get children(){return f(re,S({as:"div",role:"group",get"aria-labelledby"(){return r()}},n))}})}function Ja(e){const t=Za(),n=F({id:t.generateId("label")},e),[r,o]=A(n,["id"]);return L(()=>Q(t.registerLabelId(r.id))),f(re,S({as:"span",get id(){return r.id},"aria-hidden":"true"},o))}function Qa(e){const t=ye(),n=F({children:"▼"},e);return f(re,S({as:"span","aria-hidden":"true"},()=>t.dataset(),n))}function es(e){return f(Rn,S({role:"menuitem",closeOnSelect:!0},e))}function ts(e){const t=Tn(),n=F({id:t.generateId("description")},e),[r,o]=A(n,["id"]);return L(()=>Q(t.registerDescription(r.id))),f(re,S({as:"div",get id(){return r.id}},()=>t.dataset(),o))}function ns(e){const t=Tn(),n=F({id:t.generateId("indicator")},e),[r,o]=A(n,["forceMount"]);return f(fe,{get when(){return r.forceMount||t.isChecked()},get children(){return f(re,S({as:"div"},()=>t.dataset(),o))}})}function rs(e){const t=Tn(),n=F({id:t.generateId("label")},e),[r,o]=A(n,["ref","id"]);return L(()=>Q(t.registerLabel(r.id))),f(re,S({as:"div",ref(i){var a=ae(t.setLabelRef,r.ref);typeof a=="function"&&a(i)},get id(){return r.id}},()=>t.dataset(),o))}function os(e){const t=ye();return f(fe,{get when(){return t.contentPresent()},get children(){return f(ii,e)}})}var eo=xe();function is(){const e=ve(eo);if(e===void 0)throw new Error("[kobalte]: `useMenuRadioGroupContext` must be used within a `Menu.RadioGroup` component");return e}function as(e){const n=Me().generateId(`radiogroup-${de()}`),r=F({id:n},e),[o,i]=A(r,["value","defaultValue","onChange","disabled"]),[a,s]=Xe({value:()=>o.value,defaultValue:()=>o.defaultValue,onChange:u=>o.onChange?.(u)}),l={isDisabled:()=>o.disabled,isSelectedValue:u=>u===a(),setSelectedValue:s};return f(eo.Provider,{value:l,get children(){return f(Qr,i)}})}function ss(e){const t=is(),n=F({closeOnSelect:!1},e),[r,o]=A(n,["value","onSelect"]);return f(Rn,S({role:"menuitemradio",get checked(){return t.isSelectedValue(r.value)},onSelect:()=>{r.onSelect?.(),t.setSelectedValue(r.value)}},o))}function ls(e,t,n){const r=e.split("-")[0],o=n.getBoundingClientRect(),i=[],a=t.clientX,s=t.clientY;switch(r){case"top":i.push([a,s+5]),i.push([o.left,o.bottom]),i.push([o.left,o.top]),i.push([o.right,o.top]),i.push([o.right,o.bottom]);break;case"right":i.push([a-5,s]),i.push([o.left,o.top]),i.push([o.right,o.top]),i.push([o.right,o.bottom]),i.push([o.left,o.bottom]);break;case"bottom":i.push([a,s-5]),i.push([o.right,o.top]),i.push([o.right,o.bottom]),i.push([o.left,o.bottom]),i.push([o.left,o.top]);break;case"left":i.push([a+5,s]),i.push([o.right,o.bottom]),i.push([o.left,o.bottom]),i.push([o.left,o.top]),i.push([o.right,o.top]);break}return i}function us(e,t){return t?Di([e.clientX,e.clientY],t):!1}function to(e){const t=Me(),n=Kr(),r=St(),o=ct(),i=En(),a=F({placement:t.orientation()==="horizontal"?"bottom-start":"right-start"},e),[s,l]=A(a,["open","defaultOpen","onOpenChange"]);let u=0,c=null,d="right";const[h,b]=C(),[x,M]=C(),[v,m]=C(),[g,p]=C(),[w,$]=C(!0),[E,z]=C(l.placement),[P,_]=C([]),[T,D]=C([]),{DomCollectionProvider:G}=ja({items:T,onItemsChange:D}),V=Ir({open:()=>s.open,defaultOpen:()=>s.defaultOpen,onOpenChange:R=>s.onOpenChange?.(R)}),{present:H}=Sr({show:()=>t.forceMount()||V.isOpen(),element:()=>g()??null}),B=wi({selectionMode:"none",dataSource:T}),le=R=>{$(R),V.open()},Z=(R=!1)=>{V.close(),R&&r&&r.close(!0)},se=R=>{$(R),V.toggle()},oe=()=>{const R=g();R&&(It(R),B.selectionManager().setFocused(!0),B.selectionManager().setFocusedKey(void 0))},ue=()=>{i!=null?setTimeout(()=>oe()):oe()},_e=R=>{_(Re=>[...Re,R]);const qe=r?.registerNestedMenu(R);return()=>{_(Re=>Ri(Re,R)),qe?.()}},ce=R=>d===c?.side&&us(R,c?.area),Ne=R=>{ce(R)&&R.preventDefault()},Se=R=>{ce(R)||ue()},ze=R=>{ce(R)&&R.preventDefault()};_i({isDisabled:()=>!(r==null&&V.isOpen()&&t.isModal()),targets:()=>[g(),...P()].filter(Boolean)}),L(()=>{const R=g();if(!R||!r)return;const qe=r.registerNestedMenu(R);Q(()=>{qe()})}),L(()=>{r===void 0&&o?.registerMenu(t.value(),[g(),...P()])}),L(()=>{r!==void 0||o===void 0||(o.value()===t.value()?(v()?.focus(),o.autoFocusMenu()&&le(!0)):Z())}),L(()=>{r!==void 0||o===void 0||V.isOpen()&&o.setValue(t.value())}),Q(()=>{r===void 0&&o?.unregisterMenu(t.value())});const Te={dataset:ee(()=>({"data-expanded":V.isOpen()?"":void 0,"data-closed":V.isOpen()?void 0:""})),isOpen:V.isOpen,contentPresent:H,nestedMenus:P,currentPlacement:E,pointerGraceTimeoutId:()=>u,autoFocus:w,listState:()=>B,parentMenuContext:()=>r,triggerRef:v,contentRef:g,triggerId:h,contentId:x,setTriggerRef:m,setContentRef:p,open:le,close:Z,toggle:se,focusContent:ue,onItemEnter:Ne,onItemLeave:Se,onTriggerLeave:ze,setPointerDir:R=>d=R,setPointerGraceTimeoutId:R=>u=R,setPointerGraceIntent:R=>c=R,registerNestedMenu:_e,registerItemToParentDomCollection:n?.registerItem,registerTriggerId:ot(b),registerContentId:ot(M)};return f(G,{get children(){return f(Br.Provider,{value:Te,get children(){return f(fe,{when:i===void 0,get fallback(){return l.children},get children(){return f(Ct,S({anchorRef:v,contentRef:g,onCurrentPlacementChange:z},l))}})}})}})}function cs(e){const{direction:t}=ut();return f(to,S({get placement(){return t()==="rtl"?"left-start":"right-start"},flip:!0},e))}var ds={close:(e,t)=>e==="ltr"?[t==="horizontal"?"ArrowLeft":"ArrowUp"]:[t==="horizontal"?"ArrowRight":"ArrowDown"]};function fs(e){const t=ye(),n=Me(),[r,o]=A(e,["onFocusOutside","onKeyDown"]),{direction:i}=ut();return f(Zr,S({onOpenAutoFocus:c=>{c.preventDefault()},onCloseAutoFocus:c=>{c.preventDefault()},onFocusOutside:c=>{r.onFocusOutside?.(c);const d=c.target;rt(t.triggerRef(),d)||t.close()},onKeyDown:c=>{q(c,r.onKeyDown);const d=rt(c.currentTarget,c.target),h=ds.close(i(),n.orientation()).includes(c.key),b=t.parentMenuContext()!=null;d&&h&&b&&(t.close(),It(t.triggerRef()))}},o))}var Wn=["Enter"," "],hs={open:(e,t)=>e==="ltr"?[...Wn,t==="horizontal"?"ArrowRight":"ArrowDown"]:[...Wn,t==="horizontal"?"ArrowLeft":"ArrowUp"]};function ps(e){let t;const n=Me(),r=ye(),o=F({id:n.generateId(`sub-trigger-${de()}`)},e),[i,a]=A(o,["ref","id","textValue","disabled","onPointerMove","onPointerLeave","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]);let s=null;const l=()=>{s&&window.clearTimeout(s),s=null},{direction:u}=ut(),c=()=>i.id,d=()=>{const p=r.parentMenuContext();if(p==null)throw new Error("[kobalte]: `Menu.SubTrigger` must be used within a `Menu.Sub` component");return p.listState().selectionManager()},h=()=>r.listState().collection(),b=()=>d().focusedKey()===c(),x=Cr({key:c,selectionManager:d,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,disabled:()=>i.disabled},()=>t),M=p=>{q(p,i.onClick),!r.isOpen()&&!i.disabled&&r.open(!0)},v=p=>{if(q(p,i.onPointerMove),p.pointerType!=="mouse")return;const w=r.parentMenuContext();if(w?.onItemEnter(p),!p.defaultPrevented){if(i.disabled){w?.onItemLeave(p);return}!r.isOpen()&&!s&&(r.parentMenuContext()?.setPointerGraceIntent(null),s=window.setTimeout(()=>{r.open(!1),l()},100)),w?.onItemEnter(p),p.defaultPrevented||(r.listState().selectionManager().isFocused()&&(r.listState().selectionManager().setFocused(!1),r.listState().selectionManager().setFocusedKey(void 0)),It(p.currentTarget),w?.listState().selectionManager().setFocused(!0),w?.listState().selectionManager().setFocusedKey(c()))}},m=p=>{if(q(p,i.onPointerLeave),p.pointerType!=="mouse")return;l();const w=r.parentMenuContext(),$=r.contentRef();if($){w?.setPointerGraceIntent({area:ls(r.currentPlacement(),p,$),side:r.currentPlacement().split("-")[0]}),window.clearTimeout(w?.pointerGraceTimeoutId());const E=window.setTimeout(()=>{w?.setPointerGraceIntent(null)},300);w?.setPointerGraceTimeoutId(E)}else{if(w?.onTriggerLeave(p),p.defaultPrevented)return;w?.setPointerGraceIntent(null)}w?.onItemLeave(p)},g=p=>{q(p,i.onKeyDown),!p.repeat&&(i.disabled||hs.open(u(),n.orientation()).includes(p.key)&&(p.stopPropagation(),p.preventDefault(),d().setFocused(!1),d().setFocusedKey(void 0),r.isOpen()||r.open("first"),r.focusContent(),r.listState().selectionManager().setFocused(!0),r.listState().selectionManager().setFocusedKey(h().getFirstKey())))};return L(()=>{if(r.registerItemToParentDomCollection==null)throw new Error("[kobalte]: `Menu.SubTrigger` must be used within a `Menu.Sub` component");const p=r.registerItemToParentDomCollection({ref:()=>t,type:"item",key:c(),textValue:i.textValue??t?.textContent??"",disabled:i.disabled??!1});Q(p)}),L(he(()=>r.parentMenuContext()?.pointerGraceTimeoutId(),p=>{Q(()=>{window.clearTimeout(p),r.parentMenuContext()?.setPointerGraceIntent(null)})})),L(()=>Q(r.registerTriggerId(i.id))),Q(()=>{l()}),f(re,S({as:"div",ref(p){var w=ae($=>{r.setTriggerRef($),t=$},i.ref);typeof w=="function"&&w(p)},get id(){return i.id},role:"menuitem",get tabIndex(){return x.tabIndex()},"aria-haspopup":"true",get"aria-expanded"(){return r.isOpen()},get"aria-controls"(){return ee(()=>!!r.isOpen())()?r.contentId():void 0},get"aria-disabled"(){return i.disabled},get"data-key"(){return x.dataKey()},get"data-highlighted"(){return b()?"":void 0},get"data-disabled"(){return i.disabled?"":void 0},get onPointerDown(){return Y([i.onPointerDown,x.onPointerDown])},get onPointerUp(){return Y([i.onPointerUp,x.onPointerUp])},get onClick(){return Y([M,x.onClick])},get onKeyDown(){return Y([g,x.onKeyDown])},get onMouseDown(){return Y([i.onMouseDown,x.onMouseDown])},get onFocus(){return Y([i.onFocus,x.onFocus])},onPointerMove:v,onPointerLeave:m},()=>r.dataset(),a))}function gs(e){const t=ct(),n=`menu-${de()}`,r=F({id:n,modal:!0},e),[o,i]=A(r,["id","modal","preventScroll","forceMount","open","defaultOpen","onOpenChange","value","orientation"]),a=Ir({open:()=>o.open,defaultOpen:()=>o.defaultOpen,onOpenChange:l=>o.onOpenChange?.(l)}),s={isModal:()=>o.modal??!0,preventScroll:()=>o.preventScroll??s.isModal(),forceMount:()=>o.forceMount??!1,generateId:je(()=>o.id),value:()=>o.value,orientation:()=>o.orientation??t?.orientation()??"horizontal"};return f(Ur.Provider,{value:s,get children(){return f(to,S({get open(){return a.isOpen()},get onOpenChange(){return a.setIsOpen}},i))}})}function no(e){const t=Ue(),n=F({modal:!1},e),[r,o]=A(n,["value"]),i=de(),a=t.generateId(`menubar-menu-${i}`),s=F({id:a},o);return f(gs,S({get value(){return r.value??i}},s))}function ms(e){let t;const n=`menubar-${de()}`,r=F({id:n,loop:!0,orientation:"horizontal"},e),[o,i]=A(r,["ref","value","defaultValue","onValueChange","loop","focusOnAlt","autoFocusMenu","onAutoFocusMenuChange","orientation"]),[a,s]=Xe({value:()=>o.value,defaultValue:()=>o.defaultValue,onChange:g=>o.onValueChange?.(g)}),[l,u]=C(),[c,d]=C(new Map),[h,b]=Xe({value:()=>o.autoFocusMenu,defaultValue:()=>!1,onChange:o.onAutoFocusMenuChange}),x=()=>a()&&h()&&!a()?.includes("link-trigger-"),v={dataset:ee(()=>({"data-expanded":x()?"":void 0,"data-closed":x()?void 0:""})),value:a,setValue:s,lastValue:l,setLastValue:u,menus:()=>new Set([...c().keys()]),menuRefs:()=>[...c().values()].flat(),menuRefMap:()=>c(),registerMenu:(g,p)=>{d(w=>{const $=new Map;return w.forEach((E,z)=>$.set(z,E)),$.set(g,p),$})},unregisterMenu:g=>{d(p=>{p.delete(g);const w=new Map;return p.forEach(($,E)=>w.set(E,$)),w})},nextMenu:()=>{const g=[...c().keys()];if(a()==null){s(g[0]);return}const p=g.indexOf(a());if(p===g.length-1){o.loop&&s(g[0]);return}s(g[p+1])},previousMenu:()=>{const g=[...c().keys()];if(a()==null){s(g[0]);return}const p=g.indexOf(a());if(p===0){o.loop&&s(g[g.length-1]);return}s(g[p-1])},closeMenu:()=>{b(!1),s(void 0)},autoFocusMenu:()=>h(),setAutoFocusMenu:b,generateId:je(()=>i.id),orientation:()=>o.orientation};L(()=>{a()==null&&b(!1)}),$i({onInteractOutside:()=>{v.closeMenu(),setTimeout(()=>v.closeMenu())},shouldExcludeElement:g=>[t,...c().values()].flat().some(p=>rt(p,g))},()=>t);const m=g=>{g.key==="Alt"&&(g.preventDefault(),g.stopPropagation(),v.value()===void 0?v.nextMenu():v.closeMenu())};return L(()=>{o.focusOnAlt?window.addEventListener("keydown",m):window.removeEventListener("keydown",m),Q(()=>{window.removeEventListener("keydown",m)})}),L(()=>{a()!=null&&u(a())}),f(Yr.Provider,{value:v,get children(){return f(re,S({as:"div",ref(g){var p=ae(w=>t=w,o.ref);typeof p=="function"&&p(g)},role:"menubar",get"data-orientation"(){return o.orientation},get"aria-orientation"(){return o.orientation}},i))}})}function bs(e){const t=Ue();if(St()===void 0&&Object.hasOwn(e,"href")){const r=t.generateId("link-trigger-")+de();return f(no,{value:r,get children(){return f(Yn,e)}})}return Yn(e)}var vs={};Pn(vs,{Root:()=>Dn,Separator:()=>xs});function Dn(e){let t;const n=F({orientation:"horizontal"},e),[r,o]=A(n,["ref","orientation"]),i=Ar(()=>t,()=>"hr");return f(re,S({as:"hr",ref(a){var s=ae(l=>t=l,r.ref);typeof s=="function"&&s(a)},get role(){return i()!=="hr"?"separator":void 0},get"aria-orientation"(){return r.orientation==="vertical"?"vertical":void 0},get"data-orientation"(){return r.orientation}},o))}var xs=Dn,ro=U("<li role=presentation>"),Ms=U("<nav>");function ys(e){let t;const n=Ue(),r=F({size:15},e),[o,i]=A(r,["ref"]),[a,s]=C(0),l=()=>n.orientation()==="horizontal";return L(he(n.value,u=>{setTimeout(()=>{if(!u||u.includes("link-trigger-"))return;const c=document.querySelector(`[data-kb-menu-value-trigger="${u}"]`);if(!c||!t)return;const d=c.getBoundingClientRect()[l()?"x":"y"]+c.getBoundingClientRect()[l()?"width":"height"]/2,h=window.getComputedStyle(t),b=t.getBoundingClientRect()[l()?"x":"y"]+t.getBoundingClientRect()[l()?"width":"height"]/2-Number.parseFloat(h.transform.split(",")[l()?4:5]);s(d-b)})})),f(Ci,S({ref(u){var c=ae(d=>t=d,o.ref);typeof c=="function"&&c(u)},get style(){return{transform:`translate${l()?"X":"Y"}(${a()}px)`,color:"red"}}},i))}function ks(e){const t=dt(),n=Ue(),r=Me(),[o,i]=C(),[a,s]=A(e,["onPointerEnter","onPointerLeave"]),l=c=>{q(c,a.onPointerEnter),t.cancelLeaveTimer()},u=c=>{q(c,a.onPointerLeave),t.startLeaveTimer()};return L(he(n.value,c=>{_r(()=>{if(!c||c.includes("link-trigger-")){t.setPreviousMenu(void 0);return}if(c===r.value()){if(t.previousMenu()!=null){const x=[...n.menus()],M=x.indexOf(t.previousMenu()),v=x.indexOf(c);M<v?i("from-end"):i("from-start")}else i(void 0);t.setPreviousMenu(c);return}const d=[...n.menus()],h=d.indexOf(t.previousMenu()),b=d.indexOf(c);h>b?i("to-end"):i("to-start")})})),f(Wa,S({as:"ul",onPointerEnter:l,onPointerLeave:u,onInteractOutside:()=>{t.setAutoFocusMenu(!1)},get"data-motion"(){return o()}},s))}function ws(e){return(()=>{var t=X(ro);return O(t,f(es,S({as:"a"},e))),t})()}function _s(e){const t=Ue(),n=dt(),[r,o]=A(e,["value"]),i=de(),a=t.generateId(`navigation-menu-menu-${i}`),s=F({id:a},o),l=()=>r.value??i,[u,c]=C(!1),d=()=>{t.value()!==l()&&c(!1),n.viewportRef()?.removeEventListener("animationend",d),n.viewportRef()?.removeEventListener("animationcancel",d)};return L(he(t.value,h=>{if(h===l())c(!0);else{const b=n.viewportRef();if(!b||["","none"].includes(window.getComputedStyle(b).animationName)){c(!1);return}b.addEventListener("animationend",d)}})),f(no,S({get forceMount(){return u()},get value(){return l()}},s))}function $s(e){const t=dt(),n=ye(),[r,o]=A(e,["ref"]);return f(fe,{get when(){return t.viewportPresent()},get children(){return f(os,S({ref(i){var a=ae(s=>{s&&s.setAttribute("role","presentation")},r.ref);typeof a=="function"&&a(i)},get mount(){return ee(()=>n.parentMenuContext()==null)()?t.viewportRef():void 0}},o))}})}function Cs(e){const t=F({delayDuration:200,skipDelayDuration:300},e),[n,r,o]=A(t,["ref","delayDuration","skipDelayDuration","autoFocusMenu","onAutoFocusMenuChange","defaultValue","value","onValueChange","forceMount"],["getAnchorRect","placement","gutter","shift","flip","slide","overlap","sameWidth","fitViewport","hideWhenDetached","detachedPadding","arrowPadding","overflowPadding"]),[i,a]=Xe({value:()=>n.value,defaultValue:()=>n.defaultValue,onChange:_=>n.onValueChange?.(_)}),[s,l]=Xe({value:()=>n.autoFocusMenu,defaultValue:()=>!1,onChange:n.onAutoFocusMenuChange}),[u,c]=C(),[d,h]=C(),[b,x]=C(r.placement??o.orientation==="vertical"?"right":"bottom");L(()=>{x(o.orientation==="vertical"?"right":"bottom")});let M;const[v,m]=C(),[g,p]=C(!1),[w,$]=C(!1);L(()=>{i()&&!i().includes("link-trigger-")&&s()?_r(()=>{$(!0),p(!0)}):($(!1),p(!1))});const E=ee(()=>({"data-expanded":w()?"":void 0,"data-closed":w()?void 0:""})),{present:z}=Sr({show:()=>n.forceMount||g()||w(),element:()=>u()??null}),P={dataset:E,delayDuration:()=>n.delayDuration,skipDelayDuration:()=>n.skipDelayDuration,autoFocusMenu:s,setAutoFocusMenu:l,startLeaveTimer:()=>{M=window.setTimeout(()=>{P.setAutoFocusMenu(!1),a(void 0)},P.skipDelayDuration())},cancelLeaveTimer:()=>{M&&clearTimeout(M)},rootRef:d,setRootRef:h,viewportRef:u,setViewportRef:c,viewportPresent:z,currentPlacement:b,previousMenu:v,setPreviousMenu:m};return f(Wr.Provider,{value:P,get children(){return f(Ct,S({anchorRef:d,contentRef:u,get placement(){return b()},onCurrentPlacementChange:x},r,{get children(){var _=X(Ms);return O(_,f(ms,S({as:"ul",ref(T){var D=ae(P.setRootRef,n.ref);typeof D=="function"&&D(T)},get value(){return i()??null},onValueChange:a,get autoFocusMenu(){return s()},onAutoFocusMenuChange:l},o))),_}}))}})}function Ps(e){const t=dt(),n=St(),[r,o]=A(e,["onPointerEnter","onPointerLeave","onClick"]);let i;const a=u=>{q(u,r.onClick),i&&clearTimeout(i)},s=u=>{q(u,r.onPointerEnter),u.pointerType!=="touch"&&(t.cancelLeaveTimer(),t.dataset()["data-expanded"]!==""&&(i=window.setTimeout(()=>{t.setAutoFocusMenu(!0),n?.triggerRef()?.focus()},t.delayDuration())))},l=u=>{q(u,r.onPointerLeave),u.pointerType!=="touch"&&(t.startLeaveTimer(),i&&clearTimeout(i))};return(()=>{var u=X(ro);return O(u,f(bs,S({onClick:a,onPointerEnter:s,onPointerLeave:l},o))),u})()}function Is(e){const t=dt(),n=Ue(),[r,o]=C(),[i,a]=A(e,["ref","style","onEscapeKeyDown"]),s=()=>{n.setAutoFocusMenu(!1),n.closeMenu()},l=h=>{s()},u=qa(r);L(he(()=>n.value()?n.menuRefMap().get(n.value()):void 0,h=>{h===void 0||h[0]===void 0||o(h[0])}));const c=ee(h=>u.height()===0?h:u.height()),d=ee(h=>u.width()===0?h:u.width());return f(fe,{get when(){return t.viewportPresent()},get children(){return f(Ct.Positioner,{role:"presentation",get children(){return f(Pr,S({as:"li",ref(h){var b=ae(t.setViewportRef,i.ref);typeof b=="function"&&b(h)},get excludedElements(){return[t.rootRef]},bypassTopMostLayerCheck:!0,get style(){return In({"--kb-menu-content-transform-origin":"var(--kb-popper-content-transform-origin)","--kb-navigation-menu-viewport-height":c()?`${c()}px`:void 0,"--kb-navigation-menu-viewport-width":d()?`${d()}px`:void 0,position:"relative"},i.style)},get onEscapeKeyDown(){return Y([i.onEscapeKeyDown,l])},onDismiss:s,get"data-orientation"(){return n.orientation()}},()=>t.dataset(),a))}})}})}var K=Object.assign(Cs,{Arrow:ys,CheckboxItem:Ya,Content:ks,Group:Qr,GroupLabel:Ja,Icon:Qa,Item:ws,ItemDescription:ts,ItemIndicator:ns,ItemLabel:rs,Portal:$s,RadioGroup:as,RadioItem:ss,Menu:_s,Separator:Dn,Sub:cs,SubContent:fs,SubTrigger:ps,Trigger:Ps,Viewport:Is}),Ss=U('<header class="relative px-12 z-40 py-4 border-accent-300 dark:border-zinc-700 flex flex-wrap items-center justify-center dark:text-accent-100 text-accent-900 dark:bg-accent-950 bg-accent-50 w-full"><div class="flex w-full justify-between"><div class="basis-0 grow flex"><div class="text-2xl sn-logo text-accent-700 "><span class="font-medium dark:text-accent-300 text-accent-700 ">ŝak</span><span class="font-medium dark:text-accent-400 text-accent-600">noto.org</span></div></div><!$><!/><div class="items-center flex flex-grow justify-end gap-4"><!$><!/><!$><!/><div class="border border-accent-100 dark:border-accent-600 px-3 py-0.5 rounded-full hover:bg-accent-500 hover:cursor-pointer">');function Ts(){const e=Le(),[t,n]=C(!1),[r,o]=C("user"),i=async()=>{typeof window>"u"||(n(!0),await e.openingGraph.refresh(),setTimeout(()=>n(!1),1e3))};return Oe(async()=>{await e.openingGraph.load_wait(),await i(),e.userManager.load();let a=e.userManager.get();o(a||"user")}),(()=>{var a=X(Ss),s=a.firstChild,l=s.firstChild,u=l.nextSibling,[c,d]=ie(u.nextSibling),h=c.nextSibling,b=h.firstChild,[x,M]=ie(b.nextSibling),v=x.nextSibling,[m,g]=ie(v.nextSibling),p=m.nextSibling;return O(s,f(K,{delayDuration:0,class:"sn-nav-root",get children(){return[f(K.Trigger,{as:"a",href:"/",class:"sn-menu-trigger",children:"play"}),f(K.Menu,{get children(){return[f(K.Trigger,{class:"sn-menu-trigger",as:"a",href:"/study/flashcards",children:"study"}),f(K.Portal,{get children(){return f(K.Content,{class:"sn-nav-content content-1",get children(){return[f(K.Item,{class:"sn-nav-item",href:"/study/flashcards",get children(){return[f(K.ItemLabel,{class:"sn-nav-label",children:"practice"}),f(K.ItemDescription,{class:"sn-nav-desc",children:"quiz yourself on positions from your repertoire"})]}}),f(K.Item,{class:"sn-nav-item",href:"/study/repertoire",get children(){return[f(K.ItemLabel,{class:"sn-nav-label",children:"repertoire"}),f(K.ItemDescription,{class:"sn-nav-desc",children:"Your saved positions"})]}})]}})}})]}}),f(K.Menu,{get children(){return[f(K.Trigger,{as:"a",href:"/explore",class:"sn-menu-trigger",children:"tools"}),f(K.Portal,{get children(){return f(K.Content,{class:"sn-nav-content content-2",get children(){return[f(K.Item,{class:"sn-nav-item",href:"/explore",get children(){return[f(K.ItemLabel,{class:"sn-nav-label",children:"position explorer"}),f(K.ItemDescription,{class:"sn-nav-desc",children:"Table of played positions"})]}}),f(K.Item,{class:"sn-nav-item",href:"/tools/builder",get children(){return[f(K.ItemLabel,{class:"sn-nav-label",children:"repertoire builder"}),f(K.ItemDescription,{class:"sn-nav-desc",children:"find positions to improve your openings"})]}})]}})}})]}}),f(K.Viewport,{class:"sn-viewport",get children(){return f(K.Arrow,{size:20,class:"sn-arrow"})}})]}}),c,d),O(h,f(za,{}),x,M),O(h,f(mi,{get class(){return`w-5 h-5 ${t()?"animate-spin":""}`},onClick:()=>i()}),m,g),p.$$click=()=>e.ui.sidebar.set({active:!0,view:"user"}),O(p,r),be(),a})()}lt(["click"]);var Rs={};Pn(Rs,{Description:()=>_n,ErrorMessage:()=>$n,Input:()=>ao,Label:()=>Cn,Root:()=>lo,TextArea:()=>uo,TextField:()=>vt});var oo=xe();function io(){const e=ve(oo);if(e===void 0)throw new Error("[kobalte]: `useTextFieldContext` must be used within a `TextField` component");return e}function ao(e){return f(so,S({type:"text"},e))}function so(e){const t=Pt(),n=io(),r=F({id:n.generateId("input")},e),[o,i,a]=A(r,["onInput"],Tr),{fieldProps:s}=Rr(i);return f(re,S({as:"input",get id(){return s.id()},get name(){return t.name()},get value(){return n.value()},get required(){return t.isRequired()},get disabled(){return t.isDisabled()},get readonly(){return t.isReadOnly()},get"aria-label"(){return s.ariaLabel()},get"aria-labelledby"(){return s.ariaLabelledBy()},get"aria-describedby"(){return s.ariaDescribedBy()},get"aria-invalid"(){return t.validationState()==="invalid"||void 0},get"aria-required"(){return t.isRequired()||void 0},get"aria-disabled"(){return t.isDisabled()||void 0},get"aria-readonly"(){return t.isReadOnly()||void 0},get onInput(){return Y([o.onInput,n.onInput])}},()=>t.dataset(),a))}function lo(e){let t;const n=`textfield-${de()}`,r=F({id:n},e),[o,i,a]=A(r,["ref","value","defaultValue","onChange"],Er),[s,l]=Xe({value:()=>o.value,defaultValue:()=>o.defaultValue,onChange:h=>o.onChange?.(h)}),{formControlContext:u}=Dr(i);Or(()=>t,()=>l(o.defaultValue??""));const c=h=>{if(u.isReadOnly()||u.isDisabled())return;const b=h.target;l(b.value),b.value=s()??""},d={value:s,generateId:je(()=>nt(i.id)),onInput:c};return f(Lr.Provider,{value:u,get children(){return f(oo.Provider,{value:d,get children(){return f(re,S({as:"div",ref(h){var b=ae(x=>t=x,o.ref);typeof b=="function"&&b(h)},role:"group",get id(){return nt(i.id)}},()=>u.dataset(),a))}})}})}function uo(e){let t;const n=io(),r=F({id:n.generateId("textarea")},e),[o,i]=A(r,["ref","autoResize","submitOnEnter","onKeyPress"]);L(he([()=>t,()=>o.autoResize,()=>n.value()],([s,l])=>{!s||!l||Es(s)}));const a=s=>{t&&o.submitOnEnter&&s.key==="Enter"&&!s.shiftKey&&t.form&&(t.form.requestSubmit(),s.preventDefault())};return f(so,S({as:"textarea",get"aria-multiline"(){return o.submitOnEnter?"false":void 0},get onKeyPress(){return Y([o.onKeyPress,a])},ref(s){var l=ae(u=>t=u,o.ref);typeof l=="function"&&l(s)}},i))}function Es(e){const t=e.style.alignSelf,n=e.style.overflow;"MozAppearance"in e.style||(e.style.overflow="hidden"),e.style.alignSelf="start",e.style.height="auto",e.style.height=`${e.scrollHeight+(e.offsetHeight-e.clientHeight)}px`,e.style.overflow=n,e.style.alignSelf=t}var vt=Object.assign(lo,{Description:_n,ErrorMessage:$n,Input:ao,Label:Cn,TextArea:uo});class Zn{name=null;constructor(){this.name=window.localStorage.getItem("username")}}var Ds=U('<div class="flex flex-col gap-2"><!$><!/><div class="text-green-500 text-right"></div><!$><!/>'),Os=U("<div class=mt-2>"),Ls=U('<div class="hoverable lvl-1 rounded p-2 border"><div class="text-sm -mb-0.5 opacity-80">username</div><div class=font-medium>'),As=U('<div class="p-2 w-60"><!$><!/><!$><!/>'),Fs=U('<div class="hoverable lvl-1 opacity-70">');const Ns=()=>{Le();const[e,t]=C(null),[n,r]=C(""),[o,i]=C(""),a=d=>{r(d),u(d)},[s,l]=C([]);Oe(()=>{const d=new Zn;t(d)});const u=fi(async d=>{if(d.length<3)return;const b=await(await fetch(`https://lichess.org/api/player/autocomplete?term=${d}&object=true`)).json();l(b.result);for(const x of b.result)if(d.toLowerCase()===x.name.toLowerCase()){i(!0);return}i(!1)},300),c=()=>{const d=n();let h=null;for(const x of s())if(d.toLowerCase()===x.name.toLowerCase()){h=x.name;break}if(!h){console.log("NOT VALID USERNAME");return}window.localStorage.setItem("username",h),window.location.reload();const b=new Zn;t(b)};return(()=>{var d=X(As),h=d.firstChild,[b,x]=ie(h.nextSibling),M=b.nextSibling,[v,m]=ie(M.nextSibling);return O(d,f(fe,{get when(){return e()?.name===null},get children(){return[(()=>{var g=X(Ds),p=g.firstChild,[w,$]=ie(p.nextSibling),E=w.nextSibling,z=E.nextSibling,[P,_]=ie(z.nextSibling);return O(g,f(vt,{get value(){return n()},onChange:a,class:"flex flex-col",get children(){return[f(vt.Label,{children:"username"}),f(vt.Input,{class:"lvl-2 rounded"})]}}),w,$),O(E,()=>o()?"valid":""),O(g,f(Fr,{onClick:c,class:"bg-blue-300 rounded font-medium text-blue-900 hover:bg-blue-400",children:"set username"}),P,_),g})(),(()=>{var g=X(Os);return O(g,f(pn,{get each(){return s()},children:(p,w)=>(()=>{var $=X(Fs);return $.$$click=()=>a(p?.name),O($,()=>p?.name),be(),$})()})),g})()]}}),b,x),O(d,f(fe,{get when(){return e()?.name!==null},get children(){var g=X(Ls),p=g.firstChild,w=p.nextSibling;return g.$$click=()=>t({name:null}),O(w,()=>e()?.name),be(),g}}),v,m),d})()};lt(["click"]);var zs=U('<div class="flex p-4 w-[1200px] gap-4"><!$><!/><div class="tools-container justify-start flex flex-grow shrink flex-col *:shrink gap-4 max-w-[500px] min-w-[300px] max-h-full overflow-auto"><!$><!/><div><a class="p-2 border rounded lvl-2 hoverable"target=_blank rel="noopener noreferrer">open lichess</a></div><!$><!/><!$><!/><!$><!/><!$><!/>');function qs(){const e=Le(),[t,n]=C(null),r=new zi,[o,i]=C([]);let a=0;const[s,l]=C(hi()),[u,c]=C("white"),[d,h]=C(!1);Zi();const b=$r();Ji();const[x,M]=C(!1),[v,m]=C([]),[g,p]=C(Hn);Oe(async()=>{await e.engine.wait(),e.engine.subscribe_main(P=>{m(P.lines.map(_=>({orig:_.lan.at(0)?.slice(0,2),dest:_.lan.at(0)?.slice(2,4),score:_.score})))}),e.ui.sidebar.on(P=>{if(M(P.active),P.active){r.load(P.data),p(P.data);const _=r.turn()==="w"?"white":"black";c(_),w()}})}),L(he(v,()=>{const P=v();console.log(P);const _=P.map(T=>({orig:T.orig,dest:T.dest,brush:"paleGrey",modifiers:{lineWidth:Math.min(Math.max(2,Math.abs(Math.round(T.score*10))),10)}}));t()?.set({drawable:{autoShapes:_}})})),L(he(b,()=>{const P=b();if(P){if(P.key==="Escape"&&e.ui.board.set({active:!1,fen:Hn}),P.key==="ArrowLeft"){const _=o().slice(0,Math.max(0,a));a=Math.max(-1,a-1),r.reset(),r.load(g());for(const T of _)r.move(T);w()}if(P.key==="ArrowRight"){a=Math.min(o().length-1,a+1);const _=o().slice(0,a+1);r.reset(),r.load(g());for(const T of _)r.move(T);w()}}}));const w=()=>{const P=r.fen();console.log(P),console.log("requesting"),e.engine.enqueue_main(P),l(P);const _=r.turn()==="w"?"white":"black";t()?.set({turnColor:_,orientation:u(),fen:r.fen(),movable:{color:_,free:!1,dests:Kn(r)}})},$=P=>{const _=r.fen();try{r.move(P)}catch{r.load(_)}i(r.history()),a=o().length-1,w()},E=(P,_)=>{const T=P+_,D=r.fen(),G=pi(D,T);if(G){if(d()){e.repertoire.addLine(D,G),h(!1);return}$(G)}},z=()=>{console.log("reset"),r.reset(),i(r.history()),a=-1,w()};return L(()=>{t()?.set({orientation:u(),movable:{color:"white",dests:Kn(r),events:{after:E}}})}),(()=>{var P=X(zs),_=P.firstChild,[T,D]=ie(_.nextSibling),G=T.nextSibling,V=G.firstChild,[H,B]=ie(V.nextSibling),le=H.nextSibling,Z=le.firstChild,se=le.nextSibling,[oe,ue]=ie(se.nextSibling),_e=oe.nextSibling,[ce,Ne]=ie(_e.nextSibling),Se=ce.nextSibling,[ze,Qe]=ie(Se.nextSibling),Te=ze.nextSibling,[R,qe]=ie(Te.nextSibling);return O(P,f(Ni,{setApi:n,get class(){return`max-h-[70%] min-w-[50%] ${d()?"border-4 border-red-500":""}`}}),T,D),O(G,f(Fr,{onClick:()=>e.ui.sidebar.set({active:!1}),class:"lvl-1 hoverable",children:"Close"}),H,B),O(G,f(bi,{onSelect:Re=>$(Re)}),oe,ue),O(G,f(Fi,{history:o,restart:()=>z(),setOrientation:c}),ce,Ne),O(G,f(vi,{get fen(){return s()},requestLine:()=>h(!0)}),ze,Qe),O(G,f(xi,{get fen(){return s()},get playerColor(){return u()},onSelect:Re=>$(Re)}),R,qe),$t(()=>gn(Z,"href",`https://lichess.org/analysis/${s()}`)),P})()}const co=(e,t)=>{if(typeof e=="number"){if(t===3)return{mode:"rgb",r:(e>>8&15|e>>4&240)/255,g:(e>>4&15|e&240)/255,b:(e&15|e<<4&240)/255};if(t===4)return{mode:"rgb",r:(e>>12&15|e>>8&240)/255,g:(e>>8&15|e>>4&240)/255,b:(e>>4&15|e&240)/255,alpha:(e&15|e<<4&240)/255};if(t===6)return{mode:"rgb",r:(e>>16&255)/255,g:(e>>8&255)/255,b:(e&255)/255};if(t===8)return{mode:"rgb",r:(e>>24&255)/255,g:(e>>16&255)/255,b:(e>>8&255)/255,alpha:(e&255)/255}}},fo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Vs=e=>co(fo[e.toLowerCase()],6),Hs=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,Ks=e=>{let t;return(t=e.match(Hs))?co(parseInt(t[1],16),t[1].length):void 0},$e="([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)",tt=`${$e}%`,On=`(?:${$e}%|${$e})`,Gs=`(?:${$e}(deg|grad|rad|turn)|${$e})`,Be="\\s*,\\s*",Xs=new RegExp(`^rgba?\\(\\s*${$e}${Be}${$e}${Be}${$e}\\s*(?:,\\s*${On}\\s*)?\\)$`),Bs=new RegExp(`^rgba?\\(\\s*${tt}${Be}${tt}${Be}${tt}\\s*(?:,\\s*${On}\\s*)?\\)$`),js=e=>{let t={mode:"rgb"},n;if(n=e.match(Xs))n[1]!==void 0&&(t.r=n[1]/255),n[2]!==void 0&&(t.g=n[2]/255),n[3]!==void 0&&(t.b=n[3]/255);else if(n=e.match(Bs))n[1]!==void 0&&(t.r=n[1]/100),n[2]!==void 0&&(t.g=n[2]/100),n[3]!==void 0&&(t.b=n[3]/100);else return;return n[4]!==void 0?t.alpha=Math.max(0,Math.min(1,n[4]/100)):n[5]!==void 0&&(t.alpha=Math.max(0,Math.min(1,+n[5]))),t},at=(e,t)=>e===void 0?void 0:typeof e!="object"?nl(e):e.mode!==void 0?e:t?{...e,mode:t}:void 0,pe=(e="rgb")=>t=>(t=at(t,e))!==void 0?t.mode===e?t:ge[t.mode][e]?ge[t.mode][e](t):e==="rgb"?ge[t.mode].rgb(t):ge.rgb[e](ge[t.mode].rgb(t)):void 0,ge={},ho={},xt=[],po={},Us=e=>e,N=e=>(ge[e.mode]={...ge[e.mode],...e.toMode},Object.keys(e.fromMode||{}).forEach(t=>{ge[t]||(ge[t]={}),ge[t][e.mode]=e.fromMode[t]}),e.ranges||(e.ranges={}),e.difference||(e.difference={}),e.channels.forEach(t=>{if(e.ranges[t]===void 0&&(e.ranges[t]=[0,1]),!e.interpolate[t])throw new Error(`Missing interpolator for: ${t}`);typeof e.interpolate[t]=="function"&&(e.interpolate[t]={use:e.interpolate[t]}),e.interpolate[t].fixup||(e.interpolate[t].fixup=Us)}),ho[e.mode]=e,(e.parse||[]).forEach(t=>{Ys(t,e.mode)}),pe(e.mode)),De=e=>ho[e],Ys=(e,t)=>{if(typeof e=="string"){if(!t)throw new Error("'mode' required when 'parser' is a string");po[e]=t}else typeof e=="function"&&xt.indexOf(e)<0&&xt.push(e)},bn=/[^\x00-\x7F]|[a-zA-Z_]/,Ws=/[^\x00-\x7F]|[-\w]/,y={Function:"function",Ident:"ident",Number:"number",Percentage:"percentage",ParenClose:")",None:"none",Hue:"hue",Alpha:"alpha"};let I=0;function mt(e){let t=e[I],n=e[I+1];return t==="-"||t==="+"?/\d/.test(n)||n==="."&&/\d/.test(e[I+2]):t==="."?/\d/.test(n):/\d/.test(t)}function vn(e){if(I>=e.length)return!1;let t=e[I];if(bn.test(t))return!0;if(t==="-"){if(e.length-I<2)return!1;let n=e[I+1];return!!(n==="-"||bn.test(n))}return!1}const Zs={deg:1,rad:180/Math.PI,grad:9/10,turn:360};function et(e){let t="";if((e[I]==="-"||e[I]==="+")&&(t+=e[I++]),t+=bt(e),e[I]==="."&&/\d/.test(e[I+1])&&(t+=e[I++]+bt(e)),(e[I]==="e"||e[I]==="E")&&((e[I+1]==="-"||e[I+1]==="+")&&/\d/.test(e[I+2])?t+=e[I++]+e[I++]+bt(e):/\d/.test(e[I+1])&&(t+=e[I++]+bt(e))),vn(e)){let n=Mt(e);return n==="deg"||n==="rad"||n==="turn"||n==="grad"?{type:y.Hue,value:t*Zs[n]}:void 0}return e[I]==="%"?(I++,{type:y.Percentage,value:+t}):{type:y.Number,value:+t}}function bt(e){let t="";for(;/\d/.test(e[I]);)t+=e[I++];return t}function Mt(e){let t="";for(;I<e.length&&Ws.test(e[I]);)t+=e[I++];return t}function Js(e){let t=Mt(e);return e[I]==="("?(I++,{type:y.Function,value:t}):t==="none"?{type:y.None,value:void 0}:{type:y.Ident,value:t}}function Qs(e=""){let t=e.trim(),n=[],r;for(I=0;I<t.length;){if(r=t[I++],r===`
`||r==="	"||r===" "){for(;I<t.length&&(t[I]===`
`||t[I]==="	"||t[I]===" ");)I++;continue}if(r===",")return;if(r===")"){n.push({type:y.ParenClose});continue}if(r==="+"){if(I--,mt(t)){n.push(et(t));continue}return}if(r==="-"){if(I--,mt(t)){n.push(et(t));continue}if(vn(t)){n.push({type:y.Ident,value:Mt(t)});continue}return}if(r==="."){if(I--,mt(t)){n.push(et(t));continue}return}if(r==="/"){for(;I<t.length&&(t[I]===`
`||t[I]==="	"||t[I]===" ");)I++;let o;if(mt(t)&&(o=et(t),o.type!==y.Hue)){n.push({type:y.Alpha,value:o});continue}if(vn(t)&&Mt(t)==="none"){n.push({type:y.Alpha,value:{type:y.None,value:void 0}});continue}return}if(/\d/.test(r)){I--,n.push(et(t));continue}if(bn.test(r)){I--,n.push(Js(t));continue}return}return n}function el(e){e._i=0;let t=e[e._i++];if(!t||t.type!==y.Function||t.value!=="color"||(t=e[e._i++],t.type!==y.Ident))return;const n=po[t.value];if(!n)return;const r={mode:n},o=go(e,!1);if(!o)return;const i=De(n).channels;for(let a=0,s,l;a<i.length;a++)s=o[a],l=i[a],s.type!==y.None&&(r[l]=s.type===y.Number?s.value:s.value/100,l==="alpha"&&(r[l]=Math.max(0,Math.min(1,r[l]))));return r}function go(e,t){const n=[];let r;for(;e._i<e.length;){if(r=e[e._i++],r.type===y.None||r.type===y.Number||r.type===y.Alpha||r.type===y.Percentage||t&&r.type===y.Hue){n.push(r);continue}if(r.type===y.ParenClose){if(e._i<e.length)return;continue}return}if(!(n.length<3||n.length>4)){if(n.length===4){if(n[3].type!==y.Alpha)return;n[3]=n[3].value}return n.length===3&&n.push({type:y.None,value:void 0}),n.every(o=>o.type!==y.Alpha)?n:void 0}}function tl(e,t){e._i=0;let n=e[e._i++];if(!n||n.type!==y.Function)return;let r=go(e,t);if(r)return r.unshift(n.value),r}const nl=e=>{if(typeof e!="string")return;const t=Qs(e),n=t?tl(t,!0):void 0;let r,o=0,i=xt.length;for(;o<i;)if((r=xt[o++](e,n))!==void 0)return r;return t?el(t):void 0};function rl(e,t){if(!t||t[0]!=="rgb"&&t[0]!=="rgba")return;const n={mode:"rgb"},[,r,o,i,a]=t;if(!(r.type===y.Hue||o.type===y.Hue||i.type===y.Hue))return r.type!==y.None&&(n.r=r.type===y.Number?r.value/255:r.value/100),o.type!==y.None&&(n.g=o.type===y.Number?o.value/255:o.value/100),i.type!==y.None&&(n.b=i.type===y.Number?i.value/255:i.value/100),a.type!==y.None&&(n.alpha=Math.min(1,Math.max(0,a.type===y.Number?a.value:a.value/100))),n}const ol=e=>e==="transparent"?{mode:"rgb",r:0,g:0,b:0,alpha:0}:void 0,il=(e,t,n)=>e+n*(t-e),al=e=>{let t=[];for(let n=0;n<e.length-1;n++){let r=e[n],o=e[n+1];r===void 0&&o===void 0?t.push(void 0):r!==void 0&&o!==void 0?t.push([r,o]):t.push(r!==void 0?[r,r]:[o,o])}return t},sl=e=>t=>{let n=al(t);return r=>{let o=r*n.length,i=r>=1?n.length-1:Math.max(Math.floor(o),0),a=n[i];return a===void 0?void 0:e(a[0],a[1],o-i)}},k=sl(il),W=e=>{let t=!1,n=e.map(r=>r!==void 0?(t=!0,r):1);return t?n:e},Ye={mode:"rgb",channels:["r","g","b","alpha"],parse:[rl,Ks,js,Vs,ol,"srgb"],serialize:"srgb",interpolate:{r:k,g:k,b:k,alpha:{use:k,fixup:W}},gamut:!0,white:{r:1,g:1,b:1},black:{r:0,g:0,b:0}},Gt=(e=0)=>Math.pow(Math.abs(e),563/256)*Math.sign(e),Jn=e=>{let t=Gt(e.r),n=Gt(e.g),r=Gt(e.b),o={mode:"xyz65",x:.5766690429101305*t+.1855582379065463*n+.1882286462349947*r,y:.297344975250536*t+.6273635662554661*n+.0752914584939979*r,z:.0270313613864123*t+.0706888525358272*n+.9913375368376386*r};return e.alpha!==void 0&&(o.alpha=e.alpha),o},Xt=e=>Math.pow(Math.abs(e),256/563)*Math.sign(e),Qn=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o={mode:"a98",r:Xt(e*2.0415879038107465-t*.5650069742788597-.3447313507783297*n),g:Xt(e*-.9692436362808798+t*1.8759675015077206+.0415550574071756*n),b:Xt(e*.0134442806320312-t*.1183623922310184+1.0151749943912058*n)};return r!==void 0&&(o.alpha=r),o},Bt=(e=0)=>{const t=Math.abs(e);return t<=.04045?e/12.92:(Math.sign(e)||1)*Math.pow((t+.055)/1.055,2.4)},We=({r:e,g:t,b:n,alpha:r})=>{let o={mode:"lrgb",r:Bt(e),g:Bt(t),b:Bt(n)};return r!==void 0&&(o.alpha=r),o},Ae=e=>{let{r:t,g:n,b:r,alpha:o}=We(e),i={mode:"xyz65",x:.4123907992659593*t+.357584339383878*n+.1804807884018343*r,y:.2126390058715102*t+.715168678767756*n+.0721923153607337*r,z:.0193308187155918*t+.119194779794626*n+.9505321522496607*r};return o!==void 0&&(i.alpha=o),i},jt=(e=0)=>{const t=Math.abs(e);return t>.0031308?(Math.sign(e)||1)*(1.055*Math.pow(t,1/2.4)-.055):e*12.92},Ze=({r:e,g:t,b:n,alpha:r},o="rgb")=>{let i={mode:o,r:jt(e),g:jt(t),b:jt(n)};return r!==void 0&&(i.alpha=r),i},Fe=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=Ze({r:e*3.2409699419045226-t*1.537383177570094-.4986107602930034*n,g:e*-.9692436362808796+t*1.8759675015077204+.0415550574071756*n,b:e*.0556300796969936-t*.2039769588889765+1.0569715142428784*n});return r!==void 0&&(o.alpha=r),o},ll={...Ye,mode:"a98",parse:["a98-rgb"],serialize:"a98-rgb",fromMode:{rgb:e=>Qn(Ae(e)),xyz65:Qn},toMode:{rgb:e=>Fe(Jn(e)),xyz65:Jn}},ne=e=>(e=e%360)<0?e+360:e,ul=(e,t)=>e.map((n,r,o)=>{if(n===void 0)return n;let i=ne(n);return r===0||e[r-1]===void 0?i:t(i-ne(o[r-1]))}).reduce((n,r)=>!n.length||r===void 0||n[n.length-1]===void 0?(n.push(r),n):(n.push(r+n[n.length-1]),n),[]),ke=e=>ul(e,t=>Math.abs(t)<=180?t:t-360*Math.sign(t)),J=[-.14861,1.78277,-.29227,-.90649,1.97294,0],cl=Math.PI/180,dl=180/Math.PI;let er=J[3]*J[4],tr=J[1]*J[4],nr=J[1]*J[2]-J[0]*J[3];const fl=({r:e,g:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=(nr*n+e*er-t*tr)/(nr+er-tr),i=n-o,a=(J[4]*(t-o)-J[2]*i)/J[3],s={mode:"cubehelix",l:o,s:o===0||o===1?void 0:Math.sqrt(i*i+a*a)/(J[4]*o*(1-o))};return s.s&&(s.h=Math.atan2(a,i)*dl-120),r!==void 0&&(s.alpha=r),s},hl=({h:e,s:t,l:n,alpha:r})=>{let o={mode:"rgb"};e=(e===void 0?0:e+120)*cl,n===void 0&&(n=0);let i=t===void 0?0:t*n*(1-n),a=Math.cos(e),s=Math.sin(e);return o.r=n+i*(J[0]*a+J[1]*s),o.g=n+i*(J[2]*a+J[3]*s),o.b=n+i*(J[4]*a+J[5]*s),r!==void 0&&(o.alpha=r),o},Tt=(e,t)=>{if(e.h===void 0||t.h===void 0||!e.s||!t.s)return 0;let n=ne(e.h),r=ne(t.h),o=Math.sin((r-n+360)/2*Math.PI/180);return 2*Math.sqrt(e.s*t.s)*o},pl=(e,t)=>{if(e.h===void 0||t.h===void 0)return 0;let n=ne(e.h),r=ne(t.h);return Math.abs(r-n)>180?n-(r-360*Math.sign(r-n)):r-n},Rt=(e,t)=>{if(e.h===void 0||t.h===void 0||!e.c||!t.c)return 0;let n=ne(e.h),r=ne(t.h),o=Math.sin((r-n+360)/2*Math.PI/180);return 2*Math.sqrt(e.c*t.c)*o},Ce=(e="rgb",t=[1,1,1,0])=>{let n=De(e),r=n.channels,o=n.difference,i=pe(e);return(a,s)=>{let l=i(a),u=i(s);return Math.sqrt(r.reduce((c,d,h)=>{let b=o[d]?o[d](l,u):l[d]-u[d];return c+(t[h]||0)*Math.pow(isNaN(b)?0:b,2)},0))}},gl=(e=1,t=1,n=1)=>{let r=pe("lab65");return(o,i)=>{let a=r(o),s=r(i),l=a.l,u=a.a,c=a.b,d=Math.sqrt(u*u+c*c),h=s.l,b=s.a,x=s.b,M=Math.sqrt(b*b+x*x),v=(d+M)/2,m=.5*(1-Math.sqrt(Math.pow(v,7)/(Math.pow(v,7)+Math.pow(25,7)))),g=u*(1+m),p=b*(1+m),w=Math.sqrt(g*g+c*c),$=Math.sqrt(p*p+x*x),E=Math.abs(g)+Math.abs(c)===0?0:Math.atan2(c,g);E+=(E<0)*2*Math.PI;let z=Math.abs(p)+Math.abs(x)===0?0:Math.atan2(x,p);z+=(z<0)*2*Math.PI;let P=h-l,_=$-w,T=w*$===0?0:z-E;T-=(T>Math.PI)*2*Math.PI,T+=(T<-Math.PI)*2*Math.PI;let D=2*Math.sqrt(w*$)*Math.sin(T/2),G=(l+h)/2,V=(w+$)/2,H;w*$===0?H=E+z:(H=(E+z)/2,H-=(Math.abs(E-z)>Math.PI)*Math.PI,H+=(H<0)*2*Math.PI);let B=Math.pow(G-50,2),le=1-.17*Math.cos(H-Math.PI/6)+.24*Math.cos(2*H)+.32*Math.cos(3*H+Math.PI/30)-.2*Math.cos(4*H-63*Math.PI/180),Z=1+.015*B/Math.sqrt(20+B),se=1+.045*V,oe=1+.015*V*le,ue=30*Math.PI/180*Math.exp(-1*Math.pow((180/Math.PI*H-275)/25,2)),_e=2*Math.sqrt(Math.pow(V,7)/(Math.pow(V,7)+Math.pow(25,7))),ce=-1*Math.sin(2*ue)*_e;return Math.sqrt(Math.pow(P/(e*Z),2)+Math.pow(_/(t*se),2)+Math.pow(D/(n*oe),2)+ce*_/(t*se)*D/(n*oe))}},we=e=>{let t=e.reduce((r,o)=>{if(o!==void 0){let i=o*Math.PI/180;r.sin+=Math.sin(i),r.cos+=Math.cos(i)}return r},{sin:0,cos:0}),n=Math.atan2(t.sin,t.cos)*180/Math.PI;return n<0?360+n:n},ml={mode:"cubehelix",channels:["h","s","l","alpha"],parse:["--cubehelix"],serialize:"--cubehelix",ranges:{h:[0,360],s:[0,4.614],l:[0,1]},fromMode:{rgb:fl},toMode:{rgb:hl},interpolate:{h:{use:k,fixup:ke},s:k,l:k,alpha:{use:k,fixup:W}},difference:{h:Tt},average:{h:we}},Pe=({l:e,a:t,b:n,alpha:r},o="lch")=>{t===void 0&&(t=0),n===void 0&&(n=0);let i=Math.sqrt(t*t+n*n),a={mode:o,l:e,c:i};return i&&(a.h=ne(Math.atan2(n,t)*180/Math.PI)),r!==void 0&&(a.alpha=r),a},Ie=({l:e,c:t,h:n,alpha:r},o="lab")=>{n===void 0&&(n=0);let i={mode:o,l:e,a:t?t*Math.cos(n/180*Math.PI):0,b:t?t*Math.sin(n/180*Math.PI):0};return r!==void 0&&(i.alpha=r),i},mo=Math.pow(29,3)/Math.pow(3,3),bo=Math.pow(6,3)/Math.pow(29,3),j={X:.3457/.3585,Y:1,Z:(1-.3457-.3585)/.3585},Ke={X:.3127/.329,Y:1,Z:(1-.3127-.329)/.329};let Ut=e=>Math.pow(e,3)>bo?Math.pow(e,3):(116*e-16)/mo;const vo=({l:e,a:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=(e+16)/116,i=t/500+o,a=o-n/200,s={mode:"xyz65",x:Ut(i)*Ke.X,y:Ut(o)*Ke.Y,z:Ut(a)*Ke.Z};return r!==void 0&&(s.alpha=r),s},Et=e=>Fe(vo(e)),Yt=e=>e>bo?Math.cbrt(e):(mo*e+16)/116,xo=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=Yt(e/Ke.X),i=Yt(t/Ke.Y),a=Yt(n/Ke.Z),s={mode:"lab65",l:116*i-16,a:500*(o-i),b:200*(i-a)};return r!==void 0&&(s.alpha=r),s},Dt=e=>{let t=xo(Ae(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},yt=1,Mo=1,st=26/180*Math.PI,kt=Math.cos(st),wt=Math.sin(st),yo=100/Math.log(139/100),xn=({l:e,c:t,h:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o={mode:"lab65",l:(Math.exp(e*yt/yo)-1)/.0039},i=(Math.exp(.0435*t*Mo*yt)-1)/.075,a=i*Math.cos(n/180*Math.PI-st),s=i*Math.sin(n/180*Math.PI-st);return o.a=a*kt-s/.83*wt,o.b=a*wt+s/.83*kt,r!==void 0&&(o.alpha=r),o},Mn=({l:e,a:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=t*kt+n*wt,i=.83*(n*kt-t*wt),a=Math.sqrt(o*o+i*i),s={mode:"dlch",l:yo/yt*Math.log(1+.0039*e),c:Math.log(1+.075*a)/(.0435*Mo*yt)};return s.c&&(s.h=ne((Math.atan2(i,o)+st)/Math.PI*180)),r!==void 0&&(s.alpha=r),s},rr=e=>xn(Pe(e,"dlch")),or=e=>Ie(Mn(e),"dlab"),bl={mode:"dlab",parse:["--din99o-lab"],serialize:"--din99o-lab",toMode:{lab65:rr,rgb:e=>Et(rr(e))},fromMode:{lab65:or,rgb:e=>or(Dt(e))},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-40.09,45.501],b:[-40.469,44.344]},interpolate:{l:k,a:k,b:k,alpha:{use:k,fixup:W}}},vl={mode:"dlch",parse:["--din99o-lch"],serialize:"--din99o-lch",toMode:{lab65:xn,dlab:e=>Ie(e,"dlab"),rgb:e=>Et(xn(e))},fromMode:{lab65:Mn,dlab:e=>Pe(e,"dlch"),rgb:e=>Mn(Dt(e))},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,51.484],h:[0,360]},interpolate:{l:k,c:k,h:{use:k,fixup:ke},alpha:{use:k,fixup:W}},difference:{h:Rt},average:{h:we}};function xl({h:e,s:t,i:n,alpha:r}){e=ne(e!==void 0?e:0),t===void 0&&(t=0),n===void 0&&(n=0);let o=Math.abs(e/60%2-1),i;switch(Math.floor(e/60)){case 0:i={r:n*(1+t*(3/(2-o)-1)),g:n*(1+t*(3*(1-o)/(2-o)-1)),b:n*(1-t)};break;case 1:i={r:n*(1+t*(3*(1-o)/(2-o)-1)),g:n*(1+t*(3/(2-o)-1)),b:n*(1-t)};break;case 2:i={r:n*(1-t),g:n*(1+t*(3/(2-o)-1)),b:n*(1+t*(3*(1-o)/(2-o)-1))};break;case 3:i={r:n*(1-t),g:n*(1+t*(3*(1-o)/(2-o)-1)),b:n*(1+t*(3/(2-o)-1))};break;case 4:i={r:n*(1+t*(3*(1-o)/(2-o)-1)),g:n*(1-t),b:n*(1+t*(3/(2-o)-1))};break;case 5:i={r:n*(1+t*(3/(2-o)-1)),g:n*(1-t),b:n*(1+t*(3*(1-o)/(2-o)-1))};break;default:i={r:n*(1-t),g:n*(1-t),b:n*(1-t)}}return i.mode="rgb",r!==void 0&&(i.alpha=r),i}function Ml({r:e,g:t,b:n,alpha:r}){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=Math.max(e,t,n),i=Math.min(e,t,n),a={mode:"hsi",s:e+t+n===0?0:1-3*i/(e+t+n),i:(e+t+n)/3};return o-i!==0&&(a.h=(o===e?(t-n)/(o-i)+(t<n)*6:o===t?(n-e)/(o-i)+2:(e-t)/(o-i)+4)*60),r!==void 0&&(a.alpha=r),a}const yl={mode:"hsi",toMode:{rgb:xl},parse:["--hsi"],serialize:"--hsi",fromMode:{rgb:Ml},channels:["h","s","i","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:k,fixup:ke},s:k,i:k,alpha:{use:k,fixup:W}},difference:{h:Tt},average:{h:we}};function kl({h:e,s:t,l:n,alpha:r}){e=ne(e!==void 0?e:0),t===void 0&&(t=0),n===void 0&&(n=0);let o=n+t*(n<.5?n:1-n),i=o-(o-n)*2*Math.abs(e/60%2-1),a;switch(Math.floor(e/60)){case 0:a={r:o,g:i,b:2*n-o};break;case 1:a={r:i,g:o,b:2*n-o};break;case 2:a={r:2*n-o,g:o,b:i};break;case 3:a={r:2*n-o,g:i,b:o};break;case 4:a={r:i,g:2*n-o,b:o};break;case 5:a={r:o,g:2*n-o,b:i};break;default:a={r:2*n-o,g:2*n-o,b:2*n-o}}return a.mode="rgb",r!==void 0&&(a.alpha=r),a}function wl({r:e,g:t,b:n,alpha:r}){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=Math.max(e,t,n),i=Math.min(e,t,n),a={mode:"hsl",s:o===i?0:(o-i)/(1-Math.abs(o+i-1)),l:.5*(o+i)};return o-i!==0&&(a.h=(o===e?(t-n)/(o-i)+(t<n)*6:o===t?(n-e)/(o-i)+2:(e-t)/(o-i)+4)*60),r!==void 0&&(a.alpha=r),a}const _l=(e,t)=>{switch(t){case"deg":return+e;case"rad":return e/Math.PI*180;case"grad":return e/10*9;case"turn":return e*360}},$l=new RegExp(`^hsla?\\(\\s*${Gs}${Be}${tt}${Be}${tt}\\s*(?:,\\s*${On}\\s*)?\\)$`),Cl=e=>{let t=e.match($l);if(!t)return;let n={mode:"hsl"};return t[3]!==void 0?n.h=+t[3]:t[1]!==void 0&&t[2]!==void 0&&(n.h=_l(t[1],t[2])),t[4]!==void 0&&(n.s=Math.min(Math.max(0,t[4]/100),1)),t[5]!==void 0&&(n.l=Math.min(Math.max(0,t[5]/100),1)),t[6]!==void 0?n.alpha=Math.max(0,Math.min(1,t[6]/100)):t[7]!==void 0&&(n.alpha=Math.max(0,Math.min(1,+t[7]))),n};function Pl(e,t){if(!t||t[0]!=="hsl"&&t[0]!=="hsla")return;const n={mode:"hsl"},[,r,o,i,a]=t;if(r.type!==y.None){if(r.type===y.Percentage)return;n.h=r.value}if(o.type!==y.None){if(o.type===y.Hue)return;n.s=o.value/100}if(i.type!==y.None){if(i.type===y.Hue)return;n.l=i.value/100}return a.type!==y.None&&(n.alpha=Math.min(1,Math.max(0,a.type===y.Number?a.value:a.value/100))),n}const ko={mode:"hsl",toMode:{rgb:kl},fromMode:{rgb:wl},channels:["h","s","l","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[Pl,Cl],serialize:e=>`hsl(${e.h!==void 0?e.h:"none"} ${e.s!==void 0?e.s*100+"%":"none"} ${e.l!==void 0?e.l*100+"%":"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:k,fixup:ke},s:k,l:k,alpha:{use:k,fixup:W}},difference:{h:Tt},average:{h:we}};function wo({h:e,s:t,v:n,alpha:r}){e=ne(e!==void 0?e:0),t===void 0&&(t=0),n===void 0&&(n=0);let o=Math.abs(e/60%2-1),i;switch(Math.floor(e/60)){case 0:i={r:n,g:n*(1-t*o),b:n*(1-t)};break;case 1:i={r:n*(1-t*o),g:n,b:n*(1-t)};break;case 2:i={r:n*(1-t),g:n,b:n*(1-t*o)};break;case 3:i={r:n*(1-t),g:n*(1-t*o),b:n};break;case 4:i={r:n*(1-t*o),g:n*(1-t),b:n};break;case 5:i={r:n,g:n*(1-t),b:n*(1-t*o)};break;default:i={r:n*(1-t),g:n*(1-t),b:n*(1-t)}}return i.mode="rgb",r!==void 0&&(i.alpha=r),i}function _o({r:e,g:t,b:n,alpha:r}){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=Math.max(e,t,n),i=Math.min(e,t,n),a={mode:"hsv",s:o===0?0:1-i/o,v:o};return o-i!==0&&(a.h=(o===e?(t-n)/(o-i)+(t<n)*6:o===t?(n-e)/(o-i)+2:(e-t)/(o-i)+4)*60),r!==void 0&&(a.alpha=r),a}const $o={mode:"hsv",toMode:{rgb:wo},parse:["--hsv"],serialize:"--hsv",fromMode:{rgb:_o},channels:["h","s","v","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:k,fixup:ke},s:k,v:k,alpha:{use:k,fixup:W}},difference:{h:Tt},average:{h:we}};function Il({h:e,w:t,b:n,alpha:r}){if(t===void 0&&(t=0),n===void 0&&(n=0),t+n>1){let o=t+n;t/=o,n/=o}return wo({h:e,s:n===1?1:1-t/(1-n),v:1-n,alpha:r})}function Sl(e){let t=_o(e);if(t===void 0)return;let n=t.s!==void 0?t.s:0,r=t.v!==void 0?t.v:0,o={mode:"hwb",w:(1-n)*r,b:1-r};return t.h!==void 0&&(o.h=t.h),t.alpha!==void 0&&(o.alpha=t.alpha),o}function Tl(e,t){if(!t||t[0]!=="hwb")return;const n={mode:"hwb"},[,r,o,i,a]=t;if(r.type!==y.None){if(r.type===y.Percentage)return;n.h=r.value}if(o.type!==y.None){if(o.type===y.Hue)return;n.w=o.value/100}if(i.type!==y.None){if(i.type===y.Hue)return;n.b=i.value/100}return a.type!==y.None&&(n.alpha=Math.min(1,Math.max(0,a.type===y.Number?a.value:a.value/100))),n}const Rl={mode:"hwb",toMode:{rgb:Il},fromMode:{rgb:Sl},channels:["h","w","b","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[Tl],serialize:e=>`hwb(${e.h!==void 0?e.h:"none"} ${e.w!==void 0?e.w*100+"%":"none"} ${e.b!==void 0?e.b*100+"%":"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:k,fixup:ke},w:k,b:k,alpha:{use:k,fixup:W}},difference:{h:pl},average:{h:we}},Co=203,Ot=.1593017578125,Po=78.84375,Lt=.8359375,At=18.8515625,Ft=18.6875;function Wt(e){if(e<0)return 0;const t=Math.pow(e,1/Po);return 1e4*Math.pow(Math.max(0,t-Lt)/(At-Ft*t),1/Ot)}function Zt(e){if(e<0)return 0;const t=Math.pow(e/1e4,Ot);return Math.pow((Lt+At*t)/(1+Ft*t),Po)}const Jt=e=>Math.max(e/Co,0),ir=({i:e,t,p:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);const o=Wt(e+.008609037037932761*t+.11102962500302593*n),i=Wt(e-.00860903703793275*t-.11102962500302599*n),a=Wt(e+.5600313357106791*t-.32062717498731885*n),s={mode:"xyz65",x:Jt(2.070152218389422*o-1.3263473389671556*i+.2066510476294051*a),y:Jt(.3647385209748074*o+.680566024947227*i-.0453045459220346*a),z:Jt(-.049747207535812*o-.0492609666966138*i+1.1880659249923042*a)};return r!==void 0&&(s.alpha=r),s},Qt=(e=0)=>Math.max(e*Co,0),ar=({x:e,y:t,z:n,alpha:r})=>{const o=Qt(e),i=Qt(t),a=Qt(n),s=Zt(.3592832590121217*o+.6976051147779502*i-.0358915932320289*a),l=Zt(-.1920808463704995*o+1.1004767970374323*i+.0753748658519118*a),u=Zt(.0070797844607477*o+.0748396662186366*i+.8433265453898765*a),c=.5*s+.5*l,d=1.61376953125*s-3.323486328125*l+1.709716796875*u,h=4.378173828125*s-4.24560546875*l-.132568359375*u,b={mode:"itp",i:c,t:d,p:h};return r!==void 0&&(b.alpha=r),b},El={mode:"itp",channels:["i","t","p","alpha"],parse:["--ictcp"],serialize:"--ictcp",toMode:{xyz65:ir,rgb:e=>Fe(ir(e))},fromMode:{xyz65:ar,rgb:e=>ar(Ae(e))},ranges:{i:[0,.581],t:[-.369,.272],p:[-.164,.331]},interpolate:{i:k,t:k,p:k,alpha:{use:k,fixup:W}}},Dl=134.03437499999998,Ol=16295499532821565e-27,en=e=>{if(e<0)return 0;let t=Math.pow(e/1e4,Ot);return Math.pow((Lt+At*t)/(1+Ft*t),Dl)},tn=(e=0)=>Math.max(e*203,0),Io=({x:e,y:t,z:n,alpha:r})=>{e=tn(e),t=tn(t),n=tn(n);let o=1.15*e-.15*n,i=.66*t+.34*e,a=en(.41478972*o+.579999*i+.014648*n),s=en(-.20151*o+1.120649*i+.0531008*n),l=en(-.0166008*o+.2648*i+.6684799*n),u=(a+s)/2,c={mode:"jab",j:.44*u/(1-.56*u)-Ol,a:3.524*a-4.066708*s+.542708*l,b:.199076*a+1.096799*s-1.295875*l};return r!==void 0&&(c.alpha=r),c},Ll=134.03437499999998,sr=16295499532821565e-27,nn=e=>{if(e<0)return 0;let t=Math.pow(e,1/Ll);return 1e4*Math.pow((Lt-t)/(Ft*t-At),1/Ot)},rn=e=>e/203,So=({j:e,a:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=(e+sr)/(.44+.56*(e+sr)),i=nn(o+.13860504*t+.058047316*n),a=nn(o-.13860504*t-.058047316*n),s=nn(o-.096019242*t-.8118919*n),l={mode:"xyz65",x:rn(1.661373024652174*i-.914523081304348*a+.23136208173913045*s),y:rn(-.3250758611844533*i+1.571847026732543*a-.21825383453227928*s),z:rn(-.090982811*i-.31272829*a+1.5227666*s)};return r!==void 0&&(l.alpha=r),l},To=e=>{let t=Io(Ae(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},Ro=e=>Fe(So(e)),Al={mode:"jab",channels:["j","a","b","alpha"],parse:["--jzazbz"],serialize:"--jzazbz",fromMode:{rgb:To,xyz65:Io},toMode:{rgb:Ro,xyz65:So},ranges:{j:[0,.222],a:[-.109,.129],b:[-.185,.134]},interpolate:{j:k,a:k,b:k,alpha:{use:k,fixup:W}}},lr=({j:e,a:t,b:n,alpha:r})=>{t===void 0&&(t=0),n===void 0&&(n=0);let o=Math.sqrt(t*t+n*n),i={mode:"jch",j:e,c:o};return o&&(i.h=ne(Math.atan2(n,t)*180/Math.PI)),r!==void 0&&(i.alpha=r),i},ur=({j:e,c:t,h:n,alpha:r})=>{n===void 0&&(n=0);let o={mode:"jab",j:e,a:t?t*Math.cos(n/180*Math.PI):0,b:t?t*Math.sin(n/180*Math.PI):0};return r!==void 0&&(o.alpha=r),o},Fl={mode:"jch",parse:["--jzczhz"],serialize:"--jzczhz",toMode:{jab:ur,rgb:e=>Ro(ur(e))},fromMode:{rgb:e=>lr(To(e)),jab:lr},channels:["j","c","h","alpha"],ranges:{j:[0,.221],c:[0,.19],h:[0,360]},interpolate:{h:{use:k,fixup:ke},c:k,j:k,alpha:{use:k,fixup:W}},difference:{h:Rt},average:{h:we}},Nt=Math.pow(29,3)/Math.pow(3,3),Ln=Math.pow(6,3)/Math.pow(29,3);let on=e=>Math.pow(e,3)>Ln?Math.pow(e,3):(116*e-16)/Nt;const An=({l:e,a:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=(e+16)/116,i=t/500+o,a=o-n/200,s={mode:"xyz50",x:on(i)*j.X,y:on(o)*j.Y,z:on(a)*j.Z};return r!==void 0&&(s.alpha=r),s},ft=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=Ze({r:e*3.1341359569958707-t*1.6173863321612538-.4906619460083532*n,g:e*-.978795502912089+t*1.916254567259524+.03344273116131949*n,b:e*.07195537988411677-t*.2289768264158322+1.405386058324125*n});return r!==void 0&&(o.alpha=r),o},Eo=e=>ft(An(e)),ht=e=>{let{r:t,g:n,b:r,alpha:o}=We(e),i={mode:"xyz50",x:.436065742824811*t+.3851514688337912*n+.14307845442264197*r,y:.22249319175623702*t+.7168870538238823*n+.06061979053616537*r,z:.013923904500943465*t+.09708128566574634*n+.7140993584005155*r};return o!==void 0&&(i.alpha=o),i},an=e=>e>Ln?Math.cbrt(e):(Nt*e+16)/116,Fn=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=an(e/j.X),i=an(t/j.Y),a=an(n/j.Z),s={mode:"lab",l:116*i-16,a:500*(o-i),b:200*(i-a)};return r!==void 0&&(s.alpha=r),s},Do=e=>{let t=Fn(ht(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t};function Nl(e,t){if(!t||t[0]!=="lab")return;const n={mode:"lab"},[,r,o,i,a]=t;if(!(r.type===y.Hue||o.type===y.Hue||i.type===y.Hue))return r.type!==y.None&&(n.l=Math.min(Math.max(0,r.value),100)),o.type!==y.None&&(n.a=o.type===y.Number?o.value:o.value*125/100),i.type!==y.None&&(n.b=i.type===y.Number?i.value:i.value*125/100),a.type!==y.None&&(n.alpha=Math.min(1,Math.max(0,a.type===y.Number?a.value:a.value/100))),n}const Nn={mode:"lab",toMode:{xyz50:An,rgb:Eo},fromMode:{xyz50:Fn,rgb:Do},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-100,100],b:[-100,100]},parse:[Nl],serialize:e=>`lab(${e.l!==void 0?e.l:"none"} ${e.a!==void 0?e.a:"none"} ${e.b!==void 0?e.b:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{l:k,a:k,b:k,alpha:{use:k,fixup:W}}},zl={...Nn,mode:"lab65",parse:["--lab-d65"],serialize:"--lab-d65",toMode:{xyz65:vo,rgb:Et},fromMode:{xyz65:xo,rgb:Dt},ranges:{l:[0,100],a:[-86.182,98.234],b:[-107.86,94.477]}};function ql(e,t){if(!t||t[0]!=="lch")return;const n={mode:"lch"},[,r,o,i,a]=t;if(r.type!==y.None){if(r.type===y.Hue)return;n.l=Math.min(Math.max(0,r.value),100)}if(o.type!==y.None&&(n.c=Math.max(0,o.type===y.Number?o.value:o.value*150/100)),i.type!==y.None){if(i.type===y.Percentage)return;n.h=i.value}return a.type!==y.None&&(n.alpha=Math.min(1,Math.max(0,a.type===y.Number?a.value:a.value/100))),n}const zn={mode:"lch",toMode:{lab:Ie,rgb:e=>Eo(Ie(e))},fromMode:{rgb:e=>Pe(Do(e)),lab:Pe},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,150],h:[0,360]},parse:[ql],serialize:e=>`lch(${e.l!==void 0?e.l:"none"} ${e.c!==void 0?e.c:"none"} ${e.h!==void 0?e.h:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:k,fixup:ke},c:k,l:k,alpha:{use:k,fixup:W}},difference:{h:Rt},average:{h:we}},Vl={...zn,mode:"lch65",parse:["--lch-d65"],serialize:"--lch-d65",toMode:{lab65:e=>Ie(e,"lab65"),rgb:e=>Et(Ie(e,"lab65"))},fromMode:{rgb:e=>Pe(Dt(e),"lch65"),lab65:e=>Pe(e,"lch65")},ranges:{l:[0,100],c:[0,133.807],h:[0,360]}},Oo=({l:e,u:t,v:n,alpha:r})=>{t===void 0&&(t=0),n===void 0&&(n=0);let o=Math.sqrt(t*t+n*n),i={mode:"lchuv",l:e,c:o};return o&&(i.h=ne(Math.atan2(n,t)*180/Math.PI)),r!==void 0&&(i.alpha=r),i},Lo=({l:e,c:t,h:n,alpha:r})=>{n===void 0&&(n=0);let o={mode:"luv",l:e,u:t?t*Math.cos(n/180*Math.PI):0,v:t?t*Math.sin(n/180*Math.PI):0};return r!==void 0&&(o.alpha=r),o},Ao=(e,t,n)=>4*e/(e+15*t+3*n),Fo=(e,t,n)=>9*t/(e+15*t+3*n),Hl=Ao(j.X,j.Y,j.Z),Kl=Fo(j.X,j.Y,j.Z),Gl=e=>e<=Ln?Nt*e:116*Math.cbrt(e)-16,yn=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=Gl(t/j.Y),i=Ao(e,t,n),a=Fo(e,t,n);!isFinite(i)||!isFinite(a)?o=i=a=0:(i=13*o*(i-Hl),a=13*o*(a-Kl));let s={mode:"luv",l:o,u:i,v:a};return r!==void 0&&(s.alpha=r),s},Xl=(e,t,n)=>4*e/(e+15*t+3*n),Bl=(e,t,n)=>9*t/(e+15*t+3*n),jl=Xl(j.X,j.Y,j.Z),Ul=Bl(j.X,j.Y,j.Z),kn=({l:e,u:t,v:n,alpha:r})=>{if(e===void 0&&(e=0),e===0)return{mode:"xyz50",x:0,y:0,z:0};t===void 0&&(t=0),n===void 0&&(n=0);let o=t/(13*e)+jl,i=n/(13*e)+Ul,a=j.Y*(e<=8?e/Nt:Math.pow((e+16)/116,3)),s=a*(9*o)/(4*i),l=a*(12-3*o-20*i)/(4*i),u={mode:"xyz50",x:s,y:a,z:l};return r!==void 0&&(u.alpha=r),u},Yl=e=>Oo(yn(ht(e))),Wl=e=>ft(kn(Lo(e))),Zl={mode:"lchuv",toMode:{luv:Lo,rgb:Wl},fromMode:{rgb:Yl,luv:Oo},channels:["l","c","h","alpha"],parse:["--lchuv"],serialize:"--lchuv",ranges:{l:[0,100],c:[0,176.956],h:[0,360]},interpolate:{h:{use:k,fixup:ke},c:k,l:k,alpha:{use:k,fixup:W}},difference:{h:Rt},average:{h:we}},Jl={...Ye,mode:"lrgb",toMode:{rgb:Ze},fromMode:{rgb:We},parse:["srgb-linear"],serialize:"srgb-linear"},Ql={mode:"luv",toMode:{xyz50:kn,rgb:e=>ft(kn(e))},fromMode:{xyz50:yn,rgb:e=>yn(ht(e))},channels:["l","u","v","alpha"],parse:["--luv"],serialize:"--luv",ranges:{l:[0,100],u:[-84.936,175.042],v:[-125.882,87.243]},interpolate:{l:k,u:k,v:k,alpha:{use:k,fixup:W}}},No=({r:e,g:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=Math.cbrt(.41222147079999993*e+.5363325363*t+.0514459929*n),i=Math.cbrt(.2119034981999999*e+.6806995450999999*t+.1073969566*n),a=Math.cbrt(.08830246189999998*e+.2817188376*t+.6299787005000002*n),s={mode:"oklab",l:.2104542553*o+.793617785*i-.0040720468*a,a:1.9779984951*o-2.428592205*i+.4505937099*a,b:.0259040371*o+.7827717662*i-.808675766*a};return r!==void 0&&(s.alpha=r),s},zt=e=>{let t=No(We(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},pt=({l:e,a:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=Math.pow(e*.9999999984505198+.39633779217376786*t+.2158037580607588*n,3),i=Math.pow(e*1.0000000088817609-.10556134232365635*t-.06385417477170591*n,3),a=Math.pow(e*1.0000000546724108-.08948418209496575*t-1.2914855378640917*n,3),s={mode:"lrgb",r:4.076741661347994*o-3.307711590408193*i+.230969928729428*a,g:-1.2684380040921763*o+2.6097574006633715*i-.3413193963102197*a,b:-.004196086541837188*o-.7034186144594493*i+1.7076147009309444*a};return r!==void 0&&(s.alpha=r),s},qt=e=>Ze(pt(e));function wn(e){const r=1.170873786407767;return .5*(r*e-.206+Math.sqrt((r*e-.206)*(r*e-.206)+4*.03*r*e))}function _t(e){return(e*e+.206*e)/(1.170873786407767*(e+.03))}function eu(e,t){let n,r,o,i,a,s,l,u;-1.88170328*e-.80936493*t>1?(n=1.19086277,r=1.76576728,o=.59662641,i=.75515197,a=.56771245,s=4.0767416621,l=-3.3077115913,u=.2309699292):1.81444104*e-1.19445276*t>1?(n=.73956515,r=-.45954404,o=.08285427,i=.1254107,a=.14503204,s=-1.2684380046,l=2.6097574011,u=-.3413193965):(n=1.35733652,r=-.00915799,o=-1.1513021,i=-.50559606,a=.00692167,s=-.0041960863,l=-.7034186147,u=1.707614701);let c=n+r*e+o*t+i*e*e+a*e*t,d=.3963377774*e+.2158037573*t,h=-.1055613458*e-.0638541728*t,b=-.0894841775*e-1.291485548*t;{let x=1+c*d,M=1+c*h,v=1+c*b,m=x*x*x,g=M*M*M,p=v*v*v,w=3*d*x*x,$=3*h*M*M,E=3*b*v*v,z=6*d*d*x,P=6*h*h*M,_=6*b*b*v,T=s*m+l*g+u*p,D=s*w+l*$+u*E,G=s*z+l*P+u*_;c=c-T*D/(D*D-.5*T*G)}return c}function qn(e,t){let n=eu(e,t),r=pt({l:1,a:n*e,b:n*t}),o=Math.cbrt(1/Math.max(r.r,r.g,r.b)),i=o*n;return[o,i]}function tu(e,t,n,r,o,i=null){i||(i=qn(e,t));let a;if((n-o)*i[1]-(i[0]-o)*r<=0)a=i[1]*o/(r*i[0]+i[1]*(o-n));else{a=i[1]*(o-1)/(r*(i[0]-1)+i[1]*(o-n));{let s=n-o,l=r,u=.3963377774*e+.2158037573*t,c=-.1055613458*e-.0638541728*t,d=-.0894841775*e-1.291485548*t,h=s+l*u,b=s+l*c,x=s+l*d;{let M=o*(1-a)+a*n,v=a*r,m=M+v*u,g=M+v*c,p=M+v*d,w=m*m*m,$=g*g*g,E=p*p*p,z=3*h*m*m,P=3*b*g*g,_=3*x*p*p,T=6*h*h*m,D=6*b*b*g,G=6*x*x*p,V=4.0767416621*w-3.3077115913*$+.2309699292*E-1,H=4.0767416621*z-3.3077115913*P+.2309699292*_,B=4.0767416621*T-3.3077115913*D+.2309699292*G,le=H/(H*H-.5*V*B),Z=-V*le,se=-1.2684380046*w+2.6097574011*$-.3413193965*E-1,oe=-1.2684380046*z+2.6097574011*P-.3413193965*_,ue=-1.2684380046*T+2.6097574011*D-.3413193965*G,_e=oe/(oe*oe-.5*se*ue),ce=-se*_e,Ne=-.0041960863*w-.7034186147*$+1.707614701*E-1,Se=-.0041960863*z-.7034186147*P+1.707614701*_,ze=-.0041960863*T-.7034186147*D+1.707614701*G,Qe=Se/(Se*Se-.5*Ne*ze),Te=-Ne*Qe;Z=le>=0?Z:1e6,ce=_e>=0?ce:1e6,Te=Qe>=0?Te:1e6,a+=Math.min(Z,Math.min(ce,Te))}}}return a}function Vn(e,t,n=null){n||(n=qn(e,t));let r=n[0],o=n[1];return[o/r,o/(1-r)]}function zo(e,t,n){let r=qn(t,n),o=tu(t,n,e,1,e,r),i=Vn(t,n,r),a=.11516993+1/(7.4477897+4.1590124*n+t*(-2.19557347+1.75198401*n+t*(-2.13704948-10.02301043*n+t*(-4.24894561+5.38770819*n+4.69891013*t)))),s=.11239642+1/(1.6132032-.68124379*n+t*(.40370612+.90148123*n+t*(-.27087943+.6122399*n+t*(.00299215-.45399568*n-.14661872*t)))),l=o/Math.min(e*i[0],(1-e)*i[1]),u=e*a,c=(1-e)*s,d=.9*l*Math.sqrt(Math.sqrt(1/(1/(u*u*u*u)+1/(c*c*c*c))));return u=e*.4,c=(1-e)*.8,[Math.sqrt(1/(1/(u*u)+1/(c*c))),d,o]}function cr(e){const t=e.l!==void 0?e.l:0,n=e.a!==void 0?e.a:0,r=e.b!==void 0?e.b:0,o={mode:"okhsl",l:wn(t)};e.alpha!==void 0&&(o.alpha=e.alpha);let i=Math.sqrt(n*n+r*r);if(!i)return o.s=0,o;let[a,s,l]=zo(t,n/i,r/i),u;if(i<s){let c=0,d=.8*a,h=1-d/s;u=(i-c)/(d+h*(i-c))*.8}else{let c=s,d=.2*s*s*1.25*1.25/a,h=1-d/(l-s);u=.8+.2*((i-c)/(d+h*(i-c)))}return u&&(o.s=u,o.h=ne(Math.atan2(r,n)*180/Math.PI)),o}function dr(e){let t=e.h!==void 0?e.h:0,n=e.s!==void 0?e.s:0,r=e.l!==void 0?e.l:0;const o={mode:"oklab",l:_t(r)};if(e.alpha!==void 0&&(o.alpha=e.alpha),!n||r===1)return o.a=o.b=0,o;let i=Math.cos(t/180*Math.PI),a=Math.sin(t/180*Math.PI),[s,l,u]=zo(o.l,i,a),c,d,h,b;n<.8?(c=1.25*n,d=0,h=.8*s,b=1-h/l):(c=5*(n-.8),d=l,h=.2*l*l*1.25*1.25/s,b=1-h/(u-l));let x=d+c*h/(1-b*c);return o.a=x*i,o.b=x*a,o}const nu={...ko,mode:"okhsl",channels:["h","s","l","alpha"],parse:["--okhsl"],serialize:"--okhsl",fromMode:{oklab:cr,rgb:e=>cr(zt(e))},toMode:{oklab:dr,rgb:e=>qt(dr(e))}};function fr(e){let t=e.l!==void 0?e.l:0,n=e.a!==void 0?e.a:0,r=e.b!==void 0?e.b:0,o=Math.sqrt(n*n+r*r),i=o?n/o:1,a=o?r/o:1,[s,l]=Vn(i,a),u=.5,c=1-u/s,d=l/(o+t*l),h=d*t,b=d*o,x=_t(h),M=b*x/h,v=pt({l:x,a:i*M,b:a*M}),m=Math.cbrt(1/Math.max(v.r,v.g,v.b,0));t=t/m,o=o/m*wn(t)/t,t=wn(t);const g={mode:"okhsv",s:o?(u+l)*b/(l*u+l*c*b):0,v:t?t/h:0};return g.s&&(g.h=ne(Math.atan2(r,n)*180/Math.PI)),e.alpha!==void 0&&(g.alpha=e.alpha),g}function hr(e){const t={mode:"oklab"};e.alpha!==void 0&&(t.alpha=e.alpha);const n=e.h!==void 0?e.h:0,r=e.s!==void 0?e.s:0,o=e.v!==void 0?e.v:0,i=Math.cos(n/180*Math.PI),a=Math.sin(n/180*Math.PI),[s,l]=Vn(i,a),u=.5,c=1-u/s,d=1-r*u/(u+l-l*c*r),h=r*l*u/(u+l-l*c*r),b=_t(d),x=h*b/d,M=pt({l:b,a:i*x,b:a*x}),v=Math.cbrt(1/Math.max(M.r,M.g,M.b,0)),m=_t(o*d),g=h*m/d;return t.l=m*v,t.a=g*i*v,t.b=g*a*v,t}const ru={...$o,mode:"okhsv",channels:["h","s","v","alpha"],parse:["--okhsv"],serialize:"--okhsv",fromMode:{oklab:fr,rgb:e=>fr(zt(e))},toMode:{oklab:hr,rgb:e=>qt(hr(e))}};function ou(e,t){if(!t||t[0]!=="oklab")return;const n={mode:"oklab"},[,r,o,i,a]=t;if(!(r.type===y.Hue||o.type===y.Hue||i.type===y.Hue))return r.type!==y.None&&(n.l=Math.min(Math.max(0,r.type===y.Number?r.value:r.value/100),1)),o.type!==y.None&&(n.a=o.type===y.Number?o.value:o.value*.4/100),i.type!==y.None&&(n.b=i.type===y.Number?i.value:i.value*.4/100),a.type!==y.None&&(n.alpha=Math.min(1,Math.max(0,a.type===y.Number?a.value:a.value/100))),n}const iu={...Nn,mode:"oklab",toMode:{lrgb:pt,rgb:qt},fromMode:{lrgb:No,rgb:zt},ranges:{l:[0,1],a:[-.4,.4],b:[-.4,.4]},parse:[ou],serialize:e=>`oklab(${e.l!==void 0?e.l:"none"} ${e.a!==void 0?e.a:"none"} ${e.b!==void 0?e.b:"none"}${e.alpha<1?` / ${e.alpha}`:""})`};function au(e,t){if(!t||t[0]!=="oklch")return;const n={mode:"oklch"},[,r,o,i,a]=t;if(r.type!==y.None){if(r.type===y.Hue)return;n.l=Math.min(Math.max(0,r.type===y.Number?r.value:r.value/100),1)}if(o.type!==y.None&&(n.c=Math.max(0,o.type===y.Number?o.value:o.value*.4/100)),i.type!==y.None){if(i.type===y.Percentage)return;n.h=i.value}return a.type!==y.None&&(n.alpha=Math.min(1,Math.max(0,a.type===y.Number?a.value:a.value/100))),n}const su={...zn,mode:"oklch",toMode:{oklab:e=>Ie(e,"oklab"),rgb:e=>qt(Ie(e,"oklab"))},fromMode:{rgb:e=>Pe(zt(e),"oklch"),oklab:e=>Pe(e,"oklch")},parse:[au],serialize:e=>`oklch(${e.l!==void 0?e.l:"none"} ${e.c!==void 0?e.c:"none"} ${e.h!==void 0?e.h:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,ranges:{l:[0,1],c:[0,.4],h:[0,360]}},pr=e=>{let{r:t,g:n,b:r,alpha:o}=We(e),i={mode:"xyz65",x:.486570948648216*t+.265667693169093*n+.1982172852343625*r,y:.2289745640697487*t+.6917385218365062*n+.079286914093745*r,z:0*t+.0451133818589026*n+1.043944368900976*r};return o!==void 0&&(i.alpha=o),i},gr=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=Ze({r:e*2.4934969119414263-t*.9313836179191242-.402710784450717*n,g:e*-.8294889695615749+t*1.7626640603183465+.0236246858419436*n,b:e*.0358458302437845-t*.0761723892680418+.9568845240076871*n},"p3");return r!==void 0&&(o.alpha=r),o},lu={...Ye,mode:"p3",parse:["display-p3"],serialize:"display-p3",fromMode:{rgb:e=>gr(Ae(e)),xyz65:gr},toMode:{rgb:e=>Fe(pr(e)),xyz65:pr}},sn=e=>{let t=Math.abs(e);return t>=1/512?Math.sign(e)*Math.pow(t,1/1.8):16*e},mr=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o={mode:"prophoto",r:sn(e*1.3457868816471585-t*.2555720873797946-.0511018649755453*n),g:sn(e*-.5446307051249019+t*1.5082477428451466+.0205274474364214*n),b:sn(e*0+t*0+1.2119675456389452*n)};return r!==void 0&&(o.alpha=r),o},ln=(e=0)=>{let t=Math.abs(e);return t>=16/512?Math.sign(e)*Math.pow(t,1.8):e/16},br=e=>{let t=ln(e.r),n=ln(e.g),r=ln(e.b),o={mode:"xyz50",x:.7977666449006423*t+.1351812974005331*n+.0313477341283922*r,y:.2880748288194013*t+.7118352342418731*n+899369387256e-16*r,z:0*t+0*n+.8251046025104602*r};return e.alpha!==void 0&&(o.alpha=e.alpha),o},uu={...Ye,mode:"prophoto",parse:["prophoto-rgb"],serialize:"prophoto-rgb",fromMode:{xyz50:mr,rgb:e=>mr(ht(e))},toMode:{xyz50:br,rgb:e=>ft(br(e))}},vr=1.09929682680944,cu=.018053968510807,un=e=>{const t=Math.abs(e);return t>cu?(Math.sign(e)||1)*(vr*Math.pow(t,.45)-(vr-1)):4.5*e},xr=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o={mode:"rec2020",r:un(e*1.7166511879712683-t*.3556707837763925-.2533662813736599*n),g:un(e*-.6666843518324893+t*1.6164812366349395+.0157685458139111*n),b:un(e*.0176398574453108-t*.0427706132578085+.9421031212354739*n)};return r!==void 0&&(o.alpha=r),o},Mr=1.09929682680944,du=.018053968510807,cn=(e=0)=>{let t=Math.abs(e);return t<du*4.5?e/4.5:(Math.sign(e)||1)*Math.pow((t+Mr-1)/Mr,1/.45)},yr=e=>{let t=cn(e.r),n=cn(e.g),r=cn(e.b),o={mode:"xyz65",x:.6369580483012911*t+.1446169035862083*n+.1688809751641721*r,y:.262700212011267*t+.6779980715188708*n+.059301716469862*r,z:0*t+.0280726930490874*n+1.0609850577107909*r};return e.alpha!==void 0&&(o.alpha=e.alpha),o},fu={...Ye,mode:"rec2020",fromMode:{xyz65:xr,rgb:e=>xr(Ae(e))},toMode:{xyz65:yr,rgb:e=>Fe(yr(e))},parse:["rec2020"],serialize:"rec2020"},Ee=.0037930732552754493,qo=Math.cbrt(Ee),dn=e=>Math.cbrt(e)-qo,hu=e=>{const{r:t,g:n,b:r,alpha:o}=We(e),i=dn(.3*t+.622*n+.078*r+Ee),a=dn(.23*t+.692*n+.078*r+Ee),s=dn(.2434226892454782*t+.2047674442449682*n+.5518098665095535*r+Ee),l={mode:"xyb",x:(i-a)/2,y:(i+a)/2,b:s-(i+a)/2};return o!==void 0&&(l.alpha=o),l},fn=e=>Math.pow(e+qo,3),pu=({x:e,y:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);const o=fn(e+t)-Ee,i=fn(t-e)-Ee,a=fn(n+t)-Ee,s=Ze({r:11.031566904639861*o-9.866943908131562*i-.16462299650829934*a,g:-3.2541473810744237*o+4.418770377582723*i-.16462299650829934*a,b:-3.6588512867136815*o+2.7129230459360922*i+1.9459282407775895*a});return r!==void 0&&(s.alpha=r),s},gu={mode:"xyb",channels:["x","y","b","alpha"],parse:["--xyb"],serialize:"--xyb",toMode:{rgb:pu},fromMode:{rgb:hu},ranges:{x:[-.0154,.0281],y:[0,.8453],b:[-.2778,.388]},interpolate:{x:k,y:k,b:k,alpha:{use:k,fixup:W}}},mu={mode:"xyz50",parse:["xyz-d50"],serialize:"xyz-d50",toMode:{rgb:ft,lab:Fn},fromMode:{rgb:ht,lab:An},channels:["x","y","z","alpha"],ranges:{x:[0,.964],y:[0,.999],z:[0,.825]},interpolate:{x:k,y:k,z:k,alpha:{use:k,fixup:W}}},bu=e=>{let{x:t,y:n,z:r,alpha:o}=e;t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0);let i={mode:"xyz50",x:1.0479298208405488*t+.0229467933410191*n-.0501922295431356*r,y:.0296278156881593*t+.990434484573249*n-.0170738250293851*r,z:-.0092430581525912*t+.0150551448965779*n+.7518742899580008*r};return o!==void 0&&(i.alpha=o),i},vu=e=>{let{x:t,y:n,z:r,alpha:o}=e;t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0);let i={mode:"xyz65",x:.9554734527042182*t-.0230985368742614*n+.0632593086610217*r,y:-.0283697069632081*t+1.0099954580058226*n+.021041398966943*r,z:.0123140016883199*t-.0205076964334779*n+1.3303659366080753*r};return o!==void 0&&(i.alpha=o),i},xu={mode:"xyz65",toMode:{rgb:Fe,xyz50:bu},fromMode:{rgb:Ae,xyz50:vu},ranges:{x:[0,.95],y:[0,1],z:[0,1.088]},channels:["x","y","z","alpha"],parse:["xyz","xyz-d65"],serialize:"xyz-d65",interpolate:{x:k,y:k,z:k,alpha:{use:k,fixup:W}}},Mu=({r:e,g:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);const o={mode:"yiq",y:.29889531*e+.58662247*t+.11448223*n,i:.59597799*e-.2741761*t-.32180189*n,q:.21147017*e-.52261711*t+.31114694*n};return r!==void 0&&(o.alpha=r),o},yu=({y:e,i:t,q:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);const o={mode:"rgb",r:e+.95608445*t+.6208885*n,g:e-.27137664*t-.6486059*n,b:e-1.10561724*t+1.70250126*n};return r!==void 0&&(o.alpha=r),o},ku={mode:"yiq",toMode:{rgb:yu},fromMode:{rgb:Mu},channels:["y","i","q","alpha"],parse:["--yiq"],serialize:"--yiq",ranges:{i:[-.595,.595],q:[-.522,.522]},interpolate:{y:k,i:k,q:k,alpha:{use:k,fixup:W}}},wu=e=>Math.max(0,Math.min(1,e||0)),hn=e=>Math.round(wu(e)*255),_u=pe("rgb"),$u=e=>{if(e===void 0)return;let t=hn(e.r),n=hn(e.g),r=hn(e.b);return"#"+(1<<24|t<<16|n<<8|r).toString(16).slice(1)},Vo=e=>{const t=at(e);if(!t)return;const n=De(t.mode);if(!n.serialize||typeof n.serialize=="string"){let r=`color(${n.serialize||`--${t.mode}`} `;return n.channels.forEach((o,i)=>{o!=="alpha"&&(r+=(i?" ":"")+(t[o]!==void 0?t[o]:"none"))}),t.alpha!==void 0&&t.alpha<1&&(r+=` / ${t.alpha}`),r+")"}if(typeof n.serialize=="function")return n.serialize(t)},Ho=e=>$u(_u(e)),Cu=e=>{const t={mode:e.mode,r:Math.max(0,Math.min(e.r!==void 0?e.r:0,1)),g:Math.max(0,Math.min(e.g!==void 0?e.g:0,1)),b:Math.max(0,Math.min(e.b!==void 0?e.b:0,1))};return e.alpha!==void 0&&(t.alpha=e.alpha),t},Pu=e=>e!==void 0&&(e.r===void 0||e.r>=0&&e.r<=1)&&(e.g===void 0||e.g>=0&&e.g<=1)&&(e.b===void 0||e.b>=0&&e.b<=1);function Ko(e="rgb"){const{gamut:t}=De(e);if(!t)return r=>!0;const n=pe(typeof t=="string"?t:e);return r=>Pu(n(r))}function Iu(e="rgb"){const{gamut:t}=De(e);if(!t)return i=>at(i);const n=typeof t=="string"?t:e,r=pe(n),o=Ko(n);return i=>{const a=at(i);if(!a)return;const s=r(a);if(o(s))return a;const l=Cu(s);return a.mode===l.mode?l:pe(a.mode)(l)}}function Su(e="rgb",t="oklch",n=Ce("oklch"),r=.02){const o=pe(e),i=De(e);if(!i.gamut)return c=>o(c);const a=Ko(e),s=Iu(e),l=pe(t),{ranges:u}=De(t);return c=>{if(c=at(c),c===void 0)return;const d={...l(c)};if(d.l===void 0&&(d.l=0),d.c===void 0&&(d.c=0),d.l>=u.l[1]){const v={...i.white,mode:e};return c.alpha!==void 0&&(v.alpha=c.alpha),v}if(d.l<=u.l[0]){const v={...i.black,mode:e};return c.alpha!==void 0&&(v.alpha=c.alpha),v}if(a(d))return o(d);let h=0,b=d.c,x=(u.c[1]-u.c[0])/4e3,M=s(d);for(;b-h>x;)d.c=(h+b)*.5,M=s(d),a(d)||n&&r>0&&n(d,M)<=r?h=d.c:b=d.c;return o(a(d)?d:M)}}const Tu=(e,t=Ce(),n=r=>r)=>{let r=e.map((o,i)=>({color:n(o),i}));return(o,i=1,a=1/0)=>(isFinite(i)&&(i=Math.max(1,Math.min(i,r.length-1))),r.forEach(s=>{s.d=t(o,s.color)}),r.sort((s,l)=>s.d-l.d).slice(0,i).filter(s=>s.d<a).map(s=>e[s.i]))};N(ll);N(ml);N(bl);N(vl);N(yl);N(ko);N($o);N(Rl);N(El);N(Al);N(Fl);N(Nn);N(zl);N(zn);N(Vl);N(Zl);N(Jl);N(Ql);N(nu);N(ru);N(iu);N(su);N(lu);N(uu);N(fu);N(Ye);N(gu);N(mu);N(xu);N(ku);var Ru={};Pn(Ru,{Control:()=>Xo,Description:()=>Bo,ErrorMessage:()=>jo,Input:()=>Uo,Label:()=>Yo,Root:()=>Wo,Switch:()=>Ve,Thumb:()=>Zo});var Go=xe();function Je(){const e=ve(Go);if(e===void 0)throw new Error("[kobalte]: `useSwitchContext` must be used within a `Switch` component");return e}function Xo(e){const t=Pt(),n=Je(),r=F({id:n.generateId("control")},e),[o,i]=A(r,["onClick","onKeyDown"]);return f(re,S({as:"div",onClick:l=>{q(l,o.onClick),n.toggle(),n.inputRef()?.focus()},onKeyDown:l=>{q(l,o.onKeyDown),l.key===Ai.Space&&(n.toggle(),n.inputRef()?.focus())}},()=>t.dataset(),()=>n.dataset(),i))}function Bo(e){const t=Je();return f(_n,S(()=>t.dataset(),e))}function jo(e){const t=Je();return f($n,S(()=>t.dataset(),e))}function Uo(e){const t=Pt(),n=Je(),r=F({id:n.generateId("input")},e),[o,i,a]=A(r,["ref","style","onChange","onFocus","onBlur"],Tr),{fieldProps:s}=Rr(i);return f(re,S({as:"input",ref(d){var h=ae(n.setInputRef,o.ref);typeof h=="function"&&h(d)},type:"checkbox",role:"switch",get id(){return s.id()},get name(){return t.name()},get value(){return n.value()},get checked(){return n.checked()},get required(){return t.isRequired()},get disabled(){return t.isDisabled()},get readonly(){return t.isReadOnly()},get style(){return In({...Oi},o.style)},get"aria-checked"(){return n.checked()},get"aria-label"(){return s.ariaLabel()},get"aria-labelledby"(){return s.ariaLabelledBy()},get"aria-describedby"(){return s.ariaDescribedBy()},get"aria-invalid"(){return t.validationState()==="invalid"||void 0},get"aria-required"(){return t.isRequired()||void 0},get"aria-disabled"(){return t.isDisabled()||void 0},get"aria-readonly"(){return t.isReadOnly()||void 0},onChange:d=>{q(d,o.onChange),d.stopPropagation();const h=d.target;n.setIsChecked(h.checked),h.checked=n.checked()},onFocus:d=>{q(d,o.onFocus),n.setIsFocused(!0)},onBlur:d=>{q(d,o.onBlur),n.setIsFocused(!1)}},()=>t.dataset(),()=>n.dataset(),a))}function Yo(e){const t=Je();return f(Cn,S(()=>t.dataset(),e))}function Wo(e){let t;const n=`switch-${de()}`,r=F({value:"on",id:n},e),[o,i,a]=A(r,["ref","children","value","checked","defaultChecked","onChange","onPointerDown"],Er),[s,l]=C(),[u,c]=C(!1),{formControlContext:d}=Dr(i),h=Nr({isSelected:()=>o.checked,defaultIsSelected:()=>o.defaultChecked,onSelectedChange:v=>o.onChange?.(v),isDisabled:()=>d.isDisabled(),isReadOnly:()=>d.isReadOnly()});Or(()=>t,()=>h.setIsSelected(o.defaultChecked??!1));const b=v=>{q(v,o.onPointerDown),u()&&v.preventDefault()},x=ee(()=>({"data-checked":h.isSelected()?"":void 0})),M={value:()=>o.value,dataset:x,checked:()=>h.isSelected(),inputRef:s,generateId:je(()=>nt(i.id)),toggle:()=>h.toggle(),setIsChecked:v=>h.setIsSelected(v),setIsFocused:c,setInputRef:l};return f(Lr.Provider,{value:d,get children(){return f(Go.Provider,{value:M,get children(){return f(re,S({as:"div",ref(v){var m=ae(g=>t=g,o.ref);typeof m=="function"&&m(v)},role:"group",get id(){return nt(i.id)},onPointerDown:b},()=>d.dataset(),x,a,{get children(){return f(Eu,{state:M,get children(){return o.children}})}}))}})}})}function Eu(e){const t=wr(()=>{const n=e.children;return Li(n)?n(e.state):n});return ee(t)}function Zo(e){const t=Pt(),n=Je(),r=F({id:n.generateId("thumb")},e);return f(re,S({as:"div"},()=>t.dataset(),()=>n.dataset(),r))}var Ve=Object.assign(Wo,{Control:Xo,Description:Bo,ErrorMessage:jo,Input:Uo,Label:Yo,Thumb:Zo});const Du=e=>f(Ve,S(e,{class:"sak__switch",get children(){return[f(Ve.Label,{get children(){return e.children}}),f(Ve.Input,{}),f(Ve.Control,{class:"switch__control",get children(){return f(Ve.Thumb,{class:"switch__thumb"})}})]}}));var Ou=U('<div class=w-96><div class="font-semibold text-accent-700 bg-accent-100 dark:bg-accent-800 dark:text-accent-200 p-2 border-b border-accent-200 dark:border-accent-700">Theme: <!$><!/></div><div class="p-2 flex flex-col gap-2"></div><div class=p-4><div class=mb-2>Neutral</div><div class="flex flex-wrap gap-x-4 gap-y-2 justify-start"></div></div><div class=p-4><div class=mb-2>Colorful</div><div class="flex flex-wrap gap-x-5 gap-y-2 justify-start">'),Lu=U('<div class="rounded px-3 py-2 opacity-90 hover:opacity-100 hover:cursor-pointer">'),Au=U('<div class="rounded px-3 py-2 opacity-80 hover:opacity-100 hover:cursor-pointer ">');const Fu=e=>{const t=Le(),[n,r]=C(null),[o,i]=C("light"),a=[],s=12;for(let x=0;x<360-4*s;x+=s)a.push(x);let l=Object.keys(fo),u=Tu(l,gl());const c=14,d=[];for(let x=0;x<360-4*c;x+=c)d.push(x);const h=x=>{t.themeManager.set_color(x)},b=x=>{const M=x?"dark":"light";t.themeManager.set_mode(M)};return Oe(()=>{t.themeManager.onChange((x,M)=>{i(x),r(M)})}),(()=>{var x=X(Ou),M=x.firstChild,v=M.firstChild,m=v.nextSibling,[g,p]=ie(m.nextSibling),w=M.nextSibling,$=w.nextSibling,E=$.firstChild,z=E.nextSibling,P=$.nextSibling,_=P.firstChild,T=_.nextSibling;return O(M,n,g,p),O(w,f(Du,{get checked(){return o()==="dark"},onChange:D=>b(D),children:"Dark mode"})),O(z,f(pn,{each:d,children:(D,G)=>{let V=`oklch(20% 0.03 ${D})`,H=`oklch(90% 0.03 ${D})`,B=`oklch(12% 0.03 ${D})`,le=`oklch(72% 0.03 ${D})`;return(()=>{var Z=X(Lu);return Z.$$click=()=>h(`neutral-${D}`),O(Z,()=>u(H,1)),$t(se=>{var oe=o()==="light"?H:V,ue=o()==="light"?B:le;return oe!==se.e&&((se.e=oe)!=null?Z.style.setProperty("background",oe):Z.style.removeProperty("background")),ue!==se.t&&((se.t=ue)!=null?Z.style.setProperty("color",ue):Z.style.removeProperty("color")),se},{e:void 0,t:void 0}),be(),Z})()}})),O(T,f(pn,{each:a,children:(D,G)=>{let V=`oklch(82% 0.09 ${D})`,H=`oklch(12% 0.09 ${D})`;return(()=>{var B=X(Au);return B.$$click=()=>h(`hue-${D}`),V!=null?B.style.setProperty("background",V):B.style.removeProperty("background"),H!=null?B.style.setProperty("color",H):B.style.removeProperty("color"),O(B,()=>u(V,1)),be(),B})()}})),x})()};lt(["click"]);var Nu=U("<div>");const zu=e=>{const t=Le(),[n,r]=C({active:!1,view:"user",data:void 0}),o=$r();return L(he(o,()=>{o()?.key==="Escape"&&t.ui.sidebar.set({active:!1})})),Oe(async()=>{t.ui.sidebar.on(i=>{console.log(i),r(i)})}),(()=>{var i=X(Nu);return O(i,f(ai,{get children(){return[f(Vt,{get when(){return n().view==="user"},get children(){return f(Ns,{})}}),f(Vt,{get when(){return n().view==="board"},get children(){return f(qs,{})}}),f(Vt,{get when(){return n().view==="theme"},get children(){return f(Fu,{})}})]}})),$t(()=>si(i,`h-screen z-50 min-w-24 w-fit absolute bg-accent-50 dark:bg-accent-900 dark:text-accent-100 text-accent-800 shadow  sidebar ${n().active?"active":""}`)),i})()},Ge=Su,Jo=[97.8,96.6,90.3,82.7,74.2,64.8,54.3,41.5,37.5,30.5,23.5],Qo=[.0108,.0321,.0609,.0908,.1398,.1472,.1299,.1067,.0898,.0726,.054],me=[50,100,200,300,400,500,600,700,800,900,950];function qu(e,t){const n=pe("oklch");let r=[],o=[],i=[];console.log(e);for(let a=0;a<me.length;a++){let s=`oklch(${Jo[a]}% ${Qo[a]/2} ${e})`,l=ei(n(Ge("p3","oklch",Ce("oklch"),0)(s))),u=Vo(n(Ge("p3","oklch",Ce("oklch"),0)(s))),c=Ho(Ge("p3","oklch",Ce("oklch"),0)(s));r.push(l),o.push(u),i.push(c)}if(document?.body){const a=document.body;for(let s=0;s<me.length;s++)console.log(r[s]),a.style.setProperty(`--accent-serial-${me[s]}`,r[s]),a.style.setProperty(`--accent-${me[s]}`,o[s]),a.style.setProperty(`--hex-accent-${me[s]}`,i[s]);a.style.colorScheme=t}}function Vu(e,t){const n=pe("oklch");let r=[],o=[],i=[];console.log(e);for(let a=0;a<me.length;a++){let s=`oklch(${Jo[a]}% ${Qo[a]*.2} ${e})`,l=ei(n(Ge("p3","oklch",Ce("oklch"),0)(s))),u=Vo(n(Ge("p3","oklch",Ce("oklch"),0)(s))),c=Ho(Ge("p3","oklch",Ce("oklch"),0)(s));r.push(l),o.push(u),i.push(c)}if(document?.body){const a=document.body;for(let s=0;s<me.length;s++)console.log(r[s]),a.style.setProperty(`--accent-serial-${me[s]}`,r[s]),a.style.setProperty(`--accent-${me[s]}`,o[s]),a.style.setProperty(`--hex-accent-${me[s]}`,i[s]);a.style.colorScheme=t,a.style.colorScheme=t}}function ei(e){return`${e.l.toFixed(3)} ${e.c.toFixed(3)} ${e.h?.toFixed(3)}`}var Hu=U('<div id=saknoto class="flex flex-col h-screen relative overflow-hidden"><!$><!/><div class="flex grow shrink min-h-0 [&amp;>*]:grow [&amp;>*]:shrink"></div><!$><!/>');const Ku=e=>{const t=Le(),[n,r]=C("light"),[o,i]=C("hue-0");let a;const[s,l]=C("");return Oe(()=>{if(t.openingGraph.load_wait(),a){let u=a.style.getPropertyValue("--saknoto-accent-500");l(u)}t.themeManager.onChange((u,c)=>{i(c),r(u);let[d,h]=c.split("-");if(d==="hue"){const b=parseInt(h.match(/\d+/)[0],10);qu(b,u)}if(d==="neutral"){const b=parseInt(h.match(/\d+/)[0],10);Vu(b,u)}}),setTimeout(()=>{t.engine.start()},1e3)}),f(gi,{get children(){var u=X(Hu),c=u.firstChild,[d,h]=ie(c.nextSibling),b=d.nextSibling,x=b.nextSibling,[M,v]=ie(x.nextSibling),m=a;return typeof m=="function"?ui(m,u):a=u,O(u,f(Ts,{}),d,h),O(b,f(li,{get children(){return e.children}})),O(u,f(zu,{}),M,v),$t(g=>{var p=o(),w=n();return p!==g.e&&gn(u,"saknoto_color",g.e=p),w!==g.t&&gn(u,"saknoto_mode",g.t=w),g},{e:void 0,t:void 0}),u}})};function Gu(){return f(Ma,{root:Ku,get children(){return f(Fa,{})}})}const Xu=e=>null;var Bu=U("<span style=font-size:1.5em;text-align:center;position:fixed;left:0px;bottom:55%;width:100%;>");const ju=e=>{const t="Error | Uncaught Client Exception";return f(ci,{fallback:n=>(console.error(n),[(()=>{var r=X(Bu);return O(r,t),r})(),f(Xu,{code:500})]),get children(){return e.children}})};function Uu(e,t){return di(e,t)}function kr(e){return e.children}function Yu(){return f(kr,{get children(){return f(kr,{get children(){return f(ju,{get children(){return f(Gu,{})}})}})}})}Uu(()=>f(Yu,{}),document.getElementById("app"));const uc=void 0;export{uc as default};
