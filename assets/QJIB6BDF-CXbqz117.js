import{isServer as ce,createComponent as H,mergeProps as fe,ssr as Zt,ssrHydrationKey as Jt,escape as pe,ssrAttribute as $e}from"solid-js/web";import{c as Pt,u as Ot,b as Qt,a as Te}from"./JNCCF6MP-BxSTj5fb.js";import{m as ee,P as de,o as en,p as ve,q as tn,f as I,t as it,u as nn,e as on,w as sn,l as rn,g as ge,x as Le,d as le,r as st,v as ln,y as cn,z as an,E as un,A as fn,C as dn,c as rt,h as gn,b as hn}from"./UKTBL2JL-DdZr5mcc.js";import{createEffect as L,createRenderEffect as mn,createContext as Ye,splitProps as Ke,createSignal as F,useContext as Xe,onCleanup as P,createMemo as U,on as Ie,createComputed as yn,mergeProps as Ft,onMount as Ct,createUniqueId as Dt,untrack as pn,Show as vn}from"solid-js";import{b as lt,a as p,t as wn}from"./R5675YMU-BpRjiKpz.js";import{a as bn,b as xn}from"./FN6EICGO-B5blqTXL.js";function Sn(e,t,n,o){return e.addEventListener(t,n,o),wn(e.removeEventListener.bind(e,t,n,o))}function En(e,t,n,o){if(ce)return;const i=()=>{lt(p(e)).forEach(s=>{s&&lt(p(t)).forEach(r=>Sn(s,r,n,o))})};typeof e=="function"?L(i):mn(i)}const Kn=["top","right","bottom","left"],$=Math.min,D=Math.max,De=Math.round,Pe=Math.floor,Z=e=>({x:e,y:e}),An={left:"right",right:"left",bottom:"top",top:"bottom"},Tn={start:"end",end:"start"};function He(e,t,n){return D(e,$(t,n))}function ie(e,t){return typeof e=="function"?e(t):e}function J(e){return e.split("-")[0]}function he(e){return e.split("-")[1]}function kt(e){return e==="x"?"y":"x"}function Ge(e){return e==="y"?"height":"width"}function ne(e){return["top","bottom"].includes(J(e))?"y":"x"}function Ze(e){return kt(ne(e))}function Ln(e,t,n){n===void 0&&(n=!1);const o=he(e),i=Ze(e),s=Ge(i);let r=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(r=ke(r)),[r,ke(r)]}function Pn(e){const t=ke(e);return[Ue(e),t,Ue(t)]}function Ue(e){return e.replace(/start|end/g,t=>Tn[t])}function On(e,t,n){const o=["left","right"],i=["right","left"],s=["top","bottom"],r=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:o:t?o:i;case"left":case"right":return t?s:r;default:return[]}}function Fn(e,t,n,o){const i=he(e);let s=On(J(e),n==="start",o);return i&&(s=s.map(r=>r+"-"+i),t&&(s=s.concat(s.map(Ue)))),s}function ke(e){return e.replace(/left|right|bottom|top/g,t=>An[t])}function Cn(e){return{top:0,right:0,bottom:0,left:0,...e}}function Mt(e){return typeof e!="number"?Cn(e):{top:e,right:e,bottom:e,left:e}}function Me(e){const{x:t,y:n,width:o,height:i}=e;return{width:o,height:i,top:n,left:t,right:t+o,bottom:n+i,x:t,y:n}}function ct(e,t,n){let{reference:o,floating:i}=e;const s=ne(t),r=Ze(t),u=Ge(r),l=J(t),c=s==="y",f=o.x+o.width/2-i.width/2,a=o.y+o.height/2-i.height/2,h=o[u]/2-i[u]/2;let m;switch(l){case"top":m={x:f,y:o.y-i.height};break;case"bottom":m={x:f,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:a};break;case"left":m={x:o.x-i.width,y:a};break;default:m={x:o.x,y:o.y}}switch(he(t)){case"start":m[r]-=h*(n&&c?-1:1);break;case"end":m[r]+=h*(n&&c?-1:1);break}return m}const Dn=async(e,t,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:s=[],platform:r}=n,u=s.filter(Boolean),l=await(r.isRTL==null?void 0:r.isRTL(t));let c=await r.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:a}=ct(c,o,l),h=o,m={},d=0;for(let v=0;v<u.length;v++){const{name:g,fn:w}=u[v],{x:y,y:x,data:S,reset:b}=await w({x:f,y:a,initialPlacement:o,placement:h,strategy:i,middlewareData:m,rects:c,platform:r,elements:{reference:e,floating:t}});f=y??f,a=x??a,m={...m,[g]:{...m[g],...S}},b&&d<=50&&(d++,typeof b=="object"&&(b.placement&&(h=b.placement),b.rects&&(c=b.rects===!0?await r.getElementRects({reference:e,floating:t,strategy:i}):b.rects),{x:f,y:a}=ct(c,h,l)),v=-1)}return{x:f,y:a,placement:h,strategy:i,middlewareData:m}};async function xe(e,t){var n;t===void 0&&(t={});const{x:o,y:i,platform:s,rects:r,elements:u,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:a="floating",altBoundary:h=!1,padding:m=0}=ie(t,e),d=Mt(m),g=u[h?a==="floating"?"reference":"floating":a],w=Me(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:c,rootBoundary:f,strategy:l})),y=a==="floating"?{x:o,y:i,width:r.floating.width,height:r.floating.height}:r.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),S=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},b=Me(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:y,offsetParent:x,strategy:l}):y);return{top:(w.top-b.top+d.top)/S.y,bottom:(b.bottom-w.bottom+d.bottom)/S.y,left:(w.left-b.left+d.left)/S.x,right:(b.right-w.right+d.right)/S.x}}const kn=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:i,rects:s,platform:r,elements:u,middlewareData:l}=t,{element:c,padding:f=0}=ie(e,t)||{};if(c==null)return{};const a=Mt(f),h={x:n,y:o},m=Ze(i),d=Ge(m),v=await r.getDimensions(c),g=m==="y",w=g?"top":"left",y=g?"bottom":"right",x=g?"clientHeight":"clientWidth",S=s.reference[d]+s.reference[m]-h[m]-s.floating[d],b=h[m]-s.reference[m],K=await(r.getOffsetParent==null?void 0:r.getOffsetParent(c));let A=K?K[x]:0;(!A||!await(r.isElement==null?void 0:r.isElement(K)))&&(A=u.floating[x]||s.floating[d]);const E=S/2-b/2,T=A/2-v[d]/2-1,O=$(a[w],T),Y=$(a[y],T),te=O,ye=A-v[d]-Y,C=A/2-v[d]/2+E,se=He(te,C,ye),W=!l.arrow&&he(i)!=null&&C!==se&&s.reference[d]/2-(C<te?O:Y)-v[d]/2<0,V=W?C<te?C-te:C-ye:0;return{[m]:h[m]+V,data:{[m]:se,centerOffset:C-se-V,...W&&{alignmentOffset:V}},reset:W}}}),Mn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:i,middlewareData:s,rects:r,initialPlacement:u,platform:l,elements:c}=t,{mainAxis:f=!0,crossAxis:a=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:v=!0,...g}=ie(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=J(i),y=ne(u),x=J(u)===u,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),b=h||(x||!v?[ke(u)]:Pn(u)),K=d!=="none";!h&&K&&b.push(...Fn(u,v,d,S));const A=[u,...b],E=await xe(t,g),T=[];let O=((o=s.flip)==null?void 0:o.overflows)||[];if(f&&T.push(E[w]),a){const C=Ln(i,r,S);T.push(E[C[0]],E[C[1]])}if(O=[...O,{placement:i,overflows:T}],!T.every(C=>C<=0)){var Y,te;const C=(((Y=s.flip)==null?void 0:Y.index)||0)+1,se=A[C];if(se)return{data:{index:C,overflows:O},reset:{placement:se}};let W=(te=O.filter(V=>V.overflows[0]<=0).sort((V,X)=>V.overflows[1]-X.overflows[1])[0])==null?void 0:te.placement;if(!W)switch(m){case"bestFit":{var ye;const V=(ye=O.filter(X=>{if(K){const G=ne(X.placement);return G===y||G==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(G=>G>0).reduce((G,Gt)=>G+Gt,0)]).sort((X,G)=>X[1]-G[1])[0])==null?void 0:ye[0];V&&(W=V);break}case"initialPlacement":W=u;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function at(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ut(e){return Kn.some(t=>e[t]>=0)}const Rn=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:o="referenceHidden",...i}=ie(e,t);switch(o){case"referenceHidden":{const s=await xe(t,{...i,elementContext:"reference"}),r=at(s,n.reference);return{data:{referenceHiddenOffsets:r,referenceHidden:ut(r)}}}case"escaped":{const s=await xe(t,{...i,altBoundary:!0}),r=at(s,n.floating);return{data:{escapedOffsets:r,escaped:ut(r)}}}default:return{}}}}};async function In(e,t){const{placement:n,platform:o,elements:i}=e,s=await(o.isRTL==null?void 0:o.isRTL(i.floating)),r=J(n),u=he(n),l=ne(n)==="y",c=["left","top"].includes(r)?-1:1,f=s&&l?-1:1,a=ie(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:d}=typeof a=="number"?{mainAxis:a,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...a};return u&&typeof d=="number"&&(m=u==="end"?d*-1:d),l?{x:m*f,y:h*c}:{x:h*c,y:m*f}}const Nn=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:i,y:s,placement:r,middlewareData:u}=t,l=await In(t,e);return r===((n=u.offset)==null?void 0:n.placement)&&(o=u.arrow)!=null&&o.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:r}}}}},Bn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:i}=t,{mainAxis:s=!0,crossAxis:r=!1,limiter:u={fn:g=>{let{x:w,y}=g;return{x:w,y}}},...l}=ie(e,t),c={x:n,y:o},f=await xe(t,l),a=ne(J(i)),h=kt(a);let m=c[h],d=c[a];if(s){const g=h==="y"?"top":"left",w=h==="y"?"bottom":"right",y=m+f[g],x=m-f[w];m=He(y,m,x)}if(r){const g=a==="y"?"top":"left",w=a==="y"?"bottom":"right",y=d+f[g],x=d-f[w];d=He(y,d,x)}const v=u.fn({...t,[h]:m,[a]:d});return{...v,data:{x:v.x-n,y:v.y-o}}}}},Vn=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:o,platform:i,elements:s}=t,{apply:r=()=>{},...u}=ie(e,t),l=await xe(t,u),c=J(n),f=he(n),a=ne(n)==="y",{width:h,height:m}=o.floating;let d,v;c==="top"||c==="bottom"?(d=c,v=f===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(v=c,d=f==="end"?"top":"bottom");const g=m-l.top-l.bottom,w=h-l.left-l.right,y=$(m-l[d],g),x=$(h-l[v],w),S=!t.middlewareData.shift;let b=y,K=x;if(a?K=f||S?$(x,w):w:b=f||S?$(y,g):g,S&&!f){const E=D(l.left,0),T=D(l.right,0),O=D(l.top,0),Y=D(l.bottom,0);a?K=h-2*(E!==0||T!==0?E+T:D(l.left,l.right)):b=m-2*(O!==0||Y!==0?O+Y:D(l.top,l.bottom))}await r({...t,availableWidth:K,availableHeight:b});const A=await i.getDimensions(s.floating);return h!==A.width||m!==A.height?{reset:{rects:!0}}:{}}}};function me(e){return Rt(e)?(e.nodeName||"").toLowerCase():"#document"}function k(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function q(e){var t;return(t=(Rt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Rt(e){return e instanceof Node||e instanceof k(e).Node}function N(e){return e instanceof Element||e instanceof k(e).Element}function _(e){return e instanceof HTMLElement||e instanceof k(e).HTMLElement}function ft(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof k(e).ShadowRoot}function Ae(e){const{overflow:t,overflowX:n,overflowY:o,display:i}=B(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(i)}function $n(e){return["table","td","th"].includes(me(e))}function Ne(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Je(e){const t=Qe(),n=N(e)?B(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function _n(e){let t=Q(e);for(;_(t)&&!ue(t);){if(Je(t))return t;if(Ne(t))return null;t=Q(t)}return null}function Qe(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ue(e){return["html","body","#document"].includes(me(e))}function B(e){return k(e).getComputedStyle(e)}function Be(e){return N(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Q(e){if(me(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ft(e)&&e.host||q(e);return ft(t)?t.host:t}function It(e){const t=Q(e);return ue(t)?e.ownerDocument?e.ownerDocument.body:e.body:_(t)&&Ae(t)?t:It(t)}function Se(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=It(e),s=i===((o=e.ownerDocument)==null?void 0:o.body),r=k(i);return s?t.concat(r,r.visualViewport||[],Ae(i)?i:[],r.frameElement&&n?Se(r.frameElement):[]):t.concat(i,Se(i,[],n))}function Nt(e){const t=B(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const i=_(e),s=i?e.offsetWidth:n,r=i?e.offsetHeight:o,u=De(n)!==s||De(o)!==r;return u&&(n=s,o=r),{width:n,height:o,$:u}}function et(e){return N(e)?e:e.contextElement}function ae(e){const t=et(e);if(!_(t))return Z(1);const n=t.getBoundingClientRect(),{width:o,height:i,$:s}=Nt(t);let r=(s?De(n.width):n.width)/o,u=(s?De(n.height):n.height)/i;return(!r||!Number.isFinite(r))&&(r=1),(!u||!Number.isFinite(u))&&(u=1),{x:r,y:u}}const Wn=Z(0);function Bt(e){const t=k(e);return!Qe()||!t.visualViewport?Wn:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function zn(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==k(e)?!1:t}function oe(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=et(e);let r=Z(1);t&&(o?N(o)&&(r=ae(o)):r=ae(e));const u=zn(s,n,o)?Bt(s):Z(0);let l=(i.left+u.x)/r.x,c=(i.top+u.y)/r.y,f=i.width/r.x,a=i.height/r.y;if(s){const h=k(s),m=o&&N(o)?k(o):o;let d=h,v=d.frameElement;for(;v&&o&&m!==d;){const g=ae(v),w=v.getBoundingClientRect(),y=B(v),x=w.left+(v.clientLeft+parseFloat(y.paddingLeft))*g.x,S=w.top+(v.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,c*=g.y,f*=g.x,a*=g.y,l+=x,c+=S,d=k(v),v=d.frameElement}}return Me({width:f,height:a,x:l,y:c})}function Hn(e){let{elements:t,rect:n,offsetParent:o,strategy:i}=e;const s=i==="fixed",r=q(o),u=t?Ne(t.floating):!1;if(o===r||u&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Z(1);const f=Z(0),a=_(o);if((a||!a&&!s)&&((me(o)!=="body"||Ae(r))&&(l=Be(o)),_(o))){const h=oe(o);c=ae(o),f.x=h.x+o.clientLeft,f.y=h.y+o.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+f.x,y:n.y*c.y-l.scrollTop*c.y+f.y}}function Un(e){return Array.from(e.getClientRects())}function Vt(e){return oe(q(e)).left+Be(e).scrollLeft}function jn(e){const t=q(e),n=Be(e),o=e.ownerDocument.body,i=D(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),s=D(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let r=-n.scrollLeft+Vt(e);const u=-n.scrollTop;return B(o).direction==="rtl"&&(r+=D(t.clientWidth,o.clientWidth)-i),{width:i,height:s,x:r,y:u}}function qn(e,t){const n=k(e),o=q(e),i=n.visualViewport;let s=o.clientWidth,r=o.clientHeight,u=0,l=0;if(i){s=i.width,r=i.height;const c=Qe();(!c||c&&t==="fixed")&&(u=i.offsetLeft,l=i.offsetTop)}return{width:s,height:r,x:u,y:l}}function Yn(e,t){const n=oe(e,!0,t==="fixed"),o=n.top+e.clientTop,i=n.left+e.clientLeft,s=_(e)?ae(e):Z(1),r=e.clientWidth*s.x,u=e.clientHeight*s.y,l=i*s.x,c=o*s.y;return{width:r,height:u,x:l,y:c}}function dt(e,t,n){let o;if(t==="viewport")o=qn(e,n);else if(t==="document")o=jn(q(e));else if(N(t))o=Yn(t,n);else{const i=Bt(e);o={...t,x:t.x-i.x,y:t.y-i.y}}return Me(o)}function $t(e,t){const n=Q(e);return n===t||!N(n)||ue(n)?!1:B(n).position==="fixed"||$t(n,t)}function Xn(e,t){const n=t.get(e);if(n)return n;let o=Se(e,[],!1).filter(u=>N(u)&&me(u)!=="body"),i=null;const s=B(e).position==="fixed";let r=s?Q(e):e;for(;N(r)&&!ue(r);){const u=B(r),l=Je(r);!l&&u.position==="fixed"&&(i=null),(s?!l&&!i:!l&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ae(r)&&!l&&$t(e,r))?o=o.filter(f=>f!==r):i=u,r=Q(r)}return t.set(e,o),o}function Gn(e){let{element:t,boundary:n,rootBoundary:o,strategy:i}=e;const r=[...n==="clippingAncestors"?Ne(t)?[]:Xn(t,this._c):[].concat(n),o],u=r[0],l=r.reduce((c,f)=>{const a=dt(t,f,i);return c.top=D(a.top,c.top),c.right=$(a.right,c.right),c.bottom=$(a.bottom,c.bottom),c.left=D(a.left,c.left),c},dt(t,u,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Zn(e){const{width:t,height:n}=Nt(e);return{width:t,height:n}}function Jn(e,t,n){const o=_(t),i=q(t),s=n==="fixed",r=oe(e,!0,s,t);let u={scrollLeft:0,scrollTop:0};const l=Z(0);if(o||!o&&!s)if((me(t)!=="body"||Ae(i))&&(u=Be(t)),o){const a=oe(t,!0,s,t);l.x=a.x+t.clientLeft,l.y=a.y+t.clientTop}else i&&(l.x=Vt(i));const c=r.left+u.scrollLeft-l.x,f=r.top+u.scrollTop-l.y;return{x:c,y:f,width:r.width,height:r.height}}function _e(e){return B(e).position==="static"}function gt(e,t){return!_(e)||B(e).position==="fixed"?null:t?t(e):e.offsetParent}function _t(e,t){const n=k(e);if(Ne(e))return n;if(!_(e)){let i=Q(e);for(;i&&!ue(i);){if(N(i)&&!_e(i))return i;i=Q(i)}return n}let o=gt(e,t);for(;o&&$n(o)&&_e(o);)o=gt(o,t);return o&&ue(o)&&_e(o)&&!Je(o)?n:o||_n(e)||n}const Qn=async function(e){const t=this.getOffsetParent||_t,n=this.getDimensions,o=await n(e.floating);return{reference:Jn(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function eo(e){return B(e).direction==="rtl"}const Wt={convertOffsetParentRelativeRectToViewportRelativeRect:Hn,getDocumentElement:q,getClippingRect:Gn,getOffsetParent:_t,getElementRects:Qn,getClientRects:Un,getDimensions:Zn,getScale:ae,isElement:N,isRTL:eo};function to(e,t){let n=null,o;const i=q(e);function s(){var u;clearTimeout(o),(u=n)==null||u.disconnect(),n=null}function r(u,l){u===void 0&&(u=!1),l===void 0&&(l=1),s();const{left:c,top:f,width:a,height:h}=e.getBoundingClientRect();if(u||t(),!a||!h)return;const m=Pe(f),d=Pe(i.clientWidth-(c+a)),v=Pe(i.clientHeight-(f+h)),g=Pe(c),y={rootMargin:-m+"px "+-d+"px "+-v+"px "+-g+"px",threshold:D(0,$(1,l))||1};let x=!0;function S(b){const K=b[0].intersectionRatio;if(K!==l){if(!x)return r();K?r(!1,K):o=setTimeout(()=>{r(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(S,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,y)}n.observe(e)}return r(!0),s}function no(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:l=!1}=o,c=et(e),f=i||s?[...c?Se(c):[],...Se(t)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const a=c&&u?to(c,n):null;let h=-1,m=null;r&&(m=new ResizeObserver(w=>{let[y]=w;y&&y.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let d,v=l?oe(e):null;l&&g();function g(){const w=oe(e);v&&(w.x!==v.x||w.y!==v.y||w.width!==v.width||w.height!==v.height)&&n(),v=w,d=requestAnimationFrame(g)}return n(),()=>{var w;f.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),a?.(),(w=m)==null||w.disconnect(),m=null,l&&cancelAnimationFrame(d)}}const oo=Nn,io=Bn,so=Mn,ro=Vn,lo=Rn,co=kn,ao=(e,t,n)=>{const o=new Map,i={platform:Wt,...n},s={...i.platform,_c:o};return Dn(e,t,{...i,platform:s})};var uo=["<svg",' display="block" viewBox="','" style="transform:scale(1.02)"><g','><path fill="none"','></path><path stroke="none"',"></path></g></svg>"],tt=Ye();function nt(){const e=Xe(tt);if(e===void 0)throw new Error("[kobalte]: `usePopperContext` must be used within a `Popper` component");return e}var be=30,ht=be/2,fo={top:180,right:-90,bottom:0,left:90},mt="M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z";function go(e){const t=nt(),n=ee({size:be},e),[o,i]=Ke(n,["ref","style","size"]),s=()=>t.currentPlacement().split("-")[0],r=ho(t.contentRef),u=()=>r()?.getPropertyValue("background-color")||"none",l=()=>r()?.getPropertyValue(`border-${s()}-color`)||"none",c=()=>r()?.getPropertyValue(`border-${s()}-width`)||"0px",f=()=>Number.parseInt(c())*2*(be/o.size),a=()=>`rotate(${fo[s()]} ${ht} ${ht}) translate(0 2)`;return H(de,fe({as:"div","aria-hidden":"true",get style(){return Pt({position:"absolute","font-size":`${o.size}px`,width:"1em",height:"1em","pointer-events":"none",fill:u(),stroke:l(),"stroke-width":f()},o.style)}},i,{get children(){return Zt(uo,Jt(),`0 0 ${pe(be,!0)} ${pe(be,!0)}`,$e("transform",pe(a(),!0),!1),$e("d",pe(mt,!0),!1),$e("d",pe(mt,!0),!1))}}))}function ho(e){const[t,n]=F();return L(()=>{const o=e();o&&n(en(o).getComputedStyle(o))}),t}function mo(e){nt();const[t,n]=Ke(e,["ref","style"]);return H(de,fe({as:"div","data-popper-positioner":"",get style(){return Pt({position:"absolute",top:0,left:0,"min-width":"max-content"},t.style)}},n))}function yt(e){const{x:t=0,y:n=0,width:o=0,height:i=0}=e??{};if(typeof DOMRect=="function")return new DOMRect(t,n,o,i);const s={x:t,y:n,width:o,height:i,top:n,right:t+o,bottom:n+i,left:t};return{...s,toJSON:()=>s}}function yo(e,t){return{contextElement:e,getBoundingClientRect:()=>{const o=t(e);return o?yt(o):e?e.getBoundingClientRect():yt()}}}function po(e){return/^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(e)}var vo={top:"bottom",right:"left",bottom:"top",left:"right"};function wo(e,t){const[n,o]=e.split("-"),i=vo[n];return o?n==="left"||n==="right"?`${i} ${o==="start"?"top":"bottom"}`:o==="start"?`${i} ${t==="rtl"?"right":"left"}`:`${i} ${t==="rtl"?"left":"right"}`:`${i} center`}function bo(e){const t=ee({getAnchorRect:h=>h?.getBoundingClientRect(),placement:"bottom",gutter:0,shift:0,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,hideWhenDetached:!1,detachedPadding:0,arrowPadding:4,overflowPadding:8},e),[n,o]=F(),[i,s]=F(),[r,u]=F(t.placement),l=()=>yo(t.anchorRef?.(),t.getAnchorRect),{direction:c}=Ot();async function f(){const h=l(),m=n(),d=i();if(!h||!m)return;const v=(d?.clientHeight||0)/2,g=typeof t.gutter=="number"?t.gutter+v:t.gutter??v;m.style.setProperty("--kb-popper-content-overflow-padding",`${t.overflowPadding}px`),h.getBoundingClientRect();const w=[oo(({placement:K})=>{const A=!!K.split("-")[1];return{mainAxis:g,crossAxis:A?void 0:t.shift,alignmentAxis:t.shift}})];if(t.flip!==!1){const K=typeof t.flip=="string"?t.flip.split(" "):void 0;if(K!==void 0&&!K.every(po))throw new Error("`flip` expects a spaced-delimited list of placements");w.push(so({padding:t.overflowPadding,fallbackPlacements:K}))}(t.slide||t.overlap)&&w.push(io({mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding})),w.push(ro({padding:t.overflowPadding,apply({availableWidth:K,availableHeight:A,rects:E}){const T=Math.round(E.reference.width);K=Math.floor(K),A=Math.floor(A),m.style.setProperty("--kb-popper-anchor-width",`${T}px`),m.style.setProperty("--kb-popper-content-available-width",`${K}px`),m.style.setProperty("--kb-popper-content-available-height",`${A}px`),t.sameWidth&&(m.style.width=`${T}px`),t.fitViewport&&(m.style.maxWidth=`${K}px`,m.style.maxHeight=`${A}px`)}})),t.hideWhenDetached&&w.push(lo({padding:t.detachedPadding})),d&&w.push(co({element:d,padding:t.arrowPadding}));const y=await ao(h,m,{placement:t.placement,strategy:"absolute",middleware:w,platform:{...Wt,isRTL:()=>c()==="rtl"}});if(u(y.placement),t.onCurrentPlacementChange?.(y.placement),!m)return;m.style.setProperty("--kb-popper-content-transform-origin",wo(y.placement,c()));const x=Math.round(y.x),S=Math.round(y.y);let b;if(t.hideWhenDetached&&(b=y.middlewareData.hide?.referenceHidden?"hidden":"visible"),Object.assign(m.style,{top:"0",left:"0",transform:`translate3d(${x}px, ${S}px, 0)`,visibility:b}),d&&y.middlewareData.arrow){const{x:K,y:A}=y.middlewareData.arrow,E=y.placement.split("-")[0];Object.assign(d.style,{left:K!=null?`${K}px`:"",top:A!=null?`${A}px`:"",[E]:"100%"})}}L(()=>{const h=l(),m=n();if(!h||!m)return;const d=no(h,m,f,{elementResize:typeof ResizeObserver=="function"});P(d)}),L(()=>{const h=n(),m=t.contentRef?.();!h||!m||queueMicrotask(()=>{h.style.zIndex=getComputedStyle(m).zIndex})});const a={currentPlacement:r,contentRef:()=>t.contentRef?.(),setPositionerRef:o,setArrowRef:s};return H(tt.Provider,{value:a,get children(){return t.children}})}var ai=Object.assign(bo,{Arrow:go,Context:tt,usePopperContext:nt,Positioner:mo});function zt(e){let t=e.startIndex??0;const n=e.startLevel??0,o=[],i=l=>{if(l==null)return"";const c=e.getKey??"key",f=ve(c)?l[c]:c(l);return f!=null?String(f):""},s=l=>{if(l==null)return"";const c=e.getTextValue??"textValue",f=ve(c)?l[c]:c(l);return f!=null?String(f):""},r=l=>{if(l==null)return!1;const c=e.getDisabled??"disabled";return(ve(c)?l[c]:c(l))??!1},u=l=>{if(l!=null)return ve(e.getSectionChildren)?l[e.getSectionChildren]:e.getSectionChildren?.(l)};for(const l of e.dataSource){if(ve(l)||tn(l)){o.push({type:"item",rawValue:l,key:String(l),textValue:String(l),disabled:r(l),level:n,index:t}),t++;continue}if(u(l)!=null){o.push({type:"section",rawValue:l,key:"",textValue:"",disabled:!1,level:n,index:t}),t++;const c=u(l)??[];if(c.length>0){const f=zt({dataSource:c,getKey:e.getKey,getTextValue:e.getTextValue,getDisabled:e.getDisabled,getSectionChildren:e.getSectionChildren,startIndex:t,startLevel:n+1});o.push(...f),t+=f.length}}else o.push({type:"item",rawValue:l,key:i(l),textValue:s(l),disabled:r(l),level:n,index:t}),t++}return o}function xo(e,t=[]){return U(()=>{const n=zt({dataSource:p(e.dataSource),getKey:p(e.getKey),getTextValue:p(e.getTextValue),getDisabled:p(e.getDisabled),getSectionChildren:p(e.getSectionChildren)});for(let o=0;o<t.length;o++)t[o]();return e.factory(n)})}var z=class Ht extends Set{anchorKey;currentKey;constructor(t,n,o){super(t),t instanceof Ht?(this.anchorKey=n||t.anchorKey,this.currentKey=o||t.currentKey):(this.anchorKey=n,this.currentKey=o)}};function So(e){const[t,n]=bn(e);return[()=>t()??new z,n]}function Ut(e){return nn()?e.altKey:e.ctrlKey}function re(e){return rn()?e.metaKey:e.ctrlKey}function pt(e){return new z(e)}function Eo(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Ko(e){const t=ee({selectionMode:"none",selectionBehavior:"toggle"},e),[n,o]=F(!1),[i,s]=F(),r=U(()=>{const v=p(t.selectedKeys);return v!=null?pt(v):v}),u=U(()=>{const v=p(t.defaultSelectedKeys);return v!=null?pt(v):new z}),[l,c]=So({value:r,defaultValue:u,onChange:v=>t.onSelectionChange?.(v)}),[f,a]=F(p(t.selectionBehavior)),h=()=>p(t.selectionMode),m=()=>p(t.disallowEmptySelection)??!1,d=v=>{(p(t.allowDuplicateSelectionEvents)||!Eo(v,l()))&&c(v)};return L(()=>{const v=l();p(t.selectionBehavior)==="replace"&&f()==="toggle"&&typeof v=="object"&&v.size===0&&a("replace")}),L(()=>{a(p(t.selectionBehavior)??"toggle")}),{selectionMode:h,disallowEmptySelection:m,selectionBehavior:f,setSelectionBehavior:a,isFocused:n,setFocused:o,focusedKey:i,setFocusedKey:s,selectedKeys:l,setSelectedKeys:d}}function Ao(e){const[t,n]=F(""),[o,i]=F(-1);return{typeSelectHandlers:{onKeyDown:r=>{if(p(e.isDisabled))return;const u=p(e.keyboardDelegate),l=p(e.selectionManager);if(!u.getKeyForSearch)return;const c=To(r.key);if(!c||r.ctrlKey||r.metaKey)return;c===" "&&t().trim().length>0&&(r.preventDefault(),r.stopPropagation());let f=n(h=>h+c),a=u.getKeyForSearch(f,l.focusedKey())??u.getKeyForSearch(f);a==null&&Lo(f)&&(f=f[0],a=u.getKeyForSearch(f,l.focusedKey())??u.getKeyForSearch(f)),a!=null&&(l.setFocusedKey(a),e.onTypeSelect?.(a)),clearTimeout(o()),i(window.setTimeout(()=>n(""),500))}}}}function To(e){return e.length===1||!/^[A-Z]/i.test(e)?e:""}function Lo(e){return e.split("").every(t=>t===e[0])}function Po(e,t,n){const i=Ft({selectOnFocus:()=>p(e.selectionManager).selectionBehavior()==="replace"},e),s=()=>n?.()??t(),{direction:r}=Ot();let u={top:0,left:0};En(()=>p(i.isVirtualized)?void 0:s(),"scroll",()=>{const g=s();g&&(u={top:g.scrollTop,left:g.scrollLeft})});const{typeSelectHandlers:l}=Ao({isDisabled:()=>p(i.disallowTypeAhead),keyboardDelegate:()=>p(i.keyboardDelegate),selectionManager:()=>p(i.selectionManager)}),c=()=>p(i.orientation)??"vertical",f=g=>{on(g,l.onKeyDown),g.altKey&&g.key==="Tab"&&g.preventDefault();const w=t();if(!w?.contains(g.target))return;const y=p(i.selectionManager),x=p(i.selectOnFocus),S=E=>{E!=null&&(y.setFocusedKey(E),g.shiftKey&&y.selectionMode()==="multiple"?y.extendSelection(E):x&&!Ut(g)&&y.replaceSelection(E))},b=p(i.keyboardDelegate),K=p(i.shouldFocusWrap),A=y.focusedKey();switch(g.key){case(c()==="vertical"?"ArrowDown":"ArrowRight"):{if(b.getKeyBelow){g.preventDefault();let E;A!=null?E=b.getKeyBelow(A):E=b.getFirstKey?.(),E==null&&K&&(E=b.getFirstKey?.(A)),S(E)}break}case(c()==="vertical"?"ArrowUp":"ArrowLeft"):{if(b.getKeyAbove){g.preventDefault();let E;A!=null?E=b.getKeyAbove(A):E=b.getLastKey?.(),E==null&&K&&(E=b.getLastKey?.(A)),S(E)}break}case(c()==="vertical"?"ArrowLeft":"ArrowUp"):{if(b.getKeyLeftOf){g.preventDefault();const E=r()==="rtl";let T;A!=null?T=b.getKeyLeftOf(A):T=E?b.getFirstKey?.():b.getLastKey?.(),S(T)}break}case(c()==="vertical"?"ArrowRight":"ArrowDown"):{if(b.getKeyRightOf){g.preventDefault();const E=r()==="rtl";let T;A!=null?T=b.getKeyRightOf(A):T=E?b.getLastKey?.():b.getFirstKey?.(),S(T)}break}case"Home":if(b.getFirstKey){g.preventDefault();const E=b.getFirstKey(A,re(g));E!=null&&(y.setFocusedKey(E),re(g)&&g.shiftKey&&y.selectionMode()==="multiple"?y.extendSelection(E):x&&y.replaceSelection(E))}break;case"End":if(b.getLastKey){g.preventDefault();const E=b.getLastKey(A,re(g));E!=null&&(y.setFocusedKey(E),re(g)&&g.shiftKey&&y.selectionMode()==="multiple"?y.extendSelection(E):x&&y.replaceSelection(E))}break;case"PageDown":if(b.getKeyPageBelow&&A!=null){g.preventDefault();const E=b.getKeyPageBelow(A);S(E)}break;case"PageUp":if(b.getKeyPageAbove&&A!=null){g.preventDefault();const E=b.getKeyPageAbove(A);S(E)}break;case"a":re(g)&&y.selectionMode()==="multiple"&&p(i.disallowSelectAll)!==!0&&(g.preventDefault(),y.selectAll());break;case"Escape":g.defaultPrevented||(g.preventDefault(),p(i.disallowEmptySelection)||y.clearSelection());break;case"Tab":if(!p(i.allowsTabNavigation)){if(g.shiftKey)w.focus();else{const E=sn(w,{tabbable:!0});let T,O;do O=E.lastChild(),O&&(T=O);while(O);T&&!T.contains(document.activeElement)&&I(T)}break}}},a=g=>{const w=p(i.selectionManager),y=p(i.keyboardDelegate),x=p(i.selectOnFocus);if(w.isFocused()){g.currentTarget.contains(g.target)||w.setFocused(!1);return}if(g.currentTarget.contains(g.target)){if(w.setFocused(!0),w.focusedKey()==null){const S=K=>{K!=null&&(w.setFocusedKey(K),x&&w.replaceSelection(K))},b=g.relatedTarget;b&&g.currentTarget.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?S(w.lastSelectedKey()??y.getLastKey?.()):S(w.firstSelectedKey()??y.getFirstKey?.())}else if(!p(i.isVirtualized)){const S=s();if(S){S.scrollTop=u.top,S.scrollLeft=u.left;const b=S.querySelector(`[data-key="${w.focusedKey()}"]`);b&&(I(b),it(S,b))}}}},h=g=>{const w=p(i.selectionManager);g.currentTarget.contains(g.relatedTarget)||w.setFocused(!1)},m=g=>{s()===g.target&&g.preventDefault()},d=()=>{const g=p(i.autoFocus);if(!g)return;const w=p(i.selectionManager),y=p(i.keyboardDelegate);let x;g==="first"&&(x=y.getFirstKey?.()),g==="last"&&(x=y.getLastKey?.());const S=w.selectedKeys();S.size&&(x=S.values().next().value),w.setFocused(!0),w.setFocusedKey(x);const b=t();b&&x==null&&!p(i.shouldUseVirtualFocus)&&I(b)};return Ct(()=>{i.deferAutoFocus?setTimeout(d,0):d()}),L(Ie([s,()=>p(i.isVirtualized),()=>p(i.selectionManager).focusedKey()],g=>{const[w,y,x]=g;if(y)x&&i.scrollToKey?.(x);else if(x&&w){const S=w.querySelector(`[data-key="${x}"]`);S&&it(w,S)}})),{tabIndex:U(()=>{if(!p(i.shouldUseVirtualFocus))return p(i.selectionManager).focusedKey()==null?0:-1}),onKeyDown:f,onMouseDown:m,onFocusIn:a,onFocusOut:h}}function ui(e,t){const n=()=>p(e.selectionManager),o=()=>p(e.key),i=()=>p(e.shouldUseVirtualFocus),s=y=>{n().selectionMode()!=="none"&&(n().selectionMode()==="single"?n().isSelected(o())&&!n().disallowEmptySelection()?n().toggleSelection(o()):n().replaceSelection(o()):y?.shiftKey?n().extendSelection(o()):n().selectionBehavior()==="toggle"||re(y)||"pointerType"in y&&y.pointerType==="touch"?n().toggleSelection(o()):n().replaceSelection(o()))},r=()=>n().isSelected(o()),u=()=>p(e.disabled)||n().isDisabled(o()),l=()=>!u()&&n().canSelectItem(o());let c=null;const f=y=>{l()&&(c=y.pointerType,y.pointerType==="mouse"&&y.button===0&&!p(e.shouldSelectOnPressUp)&&s(y))},a=y=>{l()&&y.pointerType==="mouse"&&y.button===0&&p(e.shouldSelectOnPressUp)&&p(e.allowsDifferentPressOrigin)&&s(y)},h=y=>{l()&&(p(e.shouldSelectOnPressUp)&&!p(e.allowsDifferentPressOrigin)||c!=="mouse")&&s(y)},m=y=>{!l()||!["Enter"," "].includes(y.key)||(Ut(y)?n().toggleSelection(o()):s(y))},d=y=>{u()&&y.preventDefault()},v=y=>{const x=t();i()||u()||!x||y.target===x&&n().setFocusedKey(o())},g=U(()=>{if(!(i()||u()))return o()===n().focusedKey()?0:-1}),w=U(()=>p(e.virtualized)?void 0:o());return L(Ie([t,o,i,()=>n().focusedKey(),()=>n().isFocused()],([y,x,S,b,K])=>{y&&x===b&&K&&!S&&document.activeElement!==y&&(e.focus?e.focus():I(y))})),{isSelected:r,isDisabled:u,allowsSelection:l,tabIndex:g,dataKey:w,onPointerDown:f,onPointerUp:a,onClick:h,onKeyDown:m,onMouseDown:d,onFocus:v}}var Oo=class{collection;state;constructor(e,t){this.collection=e,this.state=t}selectionMode(){return this.state.selectionMode()}disallowEmptySelection(){return this.state.disallowEmptySelection()}selectionBehavior(){return this.state.selectionBehavior()}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}isFocused(){return this.state.isFocused()}setFocused(e){this.state.setFocused(e)}focusedKey(){return this.state.focusedKey()}setFocusedKey(e){(e==null||this.collection().getItem(e))&&this.state.setFocusedKey(e)}selectedKeys(){return this.state.selectedKeys()}isSelected(e){if(this.state.selectionMode()==="none")return!1;const t=this.getKey(e);return t==null?!1:this.state.selectedKeys().has(t)}isEmpty(){return this.state.selectedKeys().size===0}isSelectAll(){if(this.isEmpty())return!1;const e=this.state.selectedKeys();return this.getAllSelectableKeys().every(t=>e.has(t))}firstSelectedKey(){let e;for(const t of this.state.selectedKeys()){const n=this.collection().getItem(t),o=n?.index!=null&&e?.index!=null&&n.index<e.index;(!e||o)&&(e=n)}return e?.key}lastSelectedKey(){let e;for(const t of this.state.selectedKeys()){const n=this.collection().getItem(t),o=n?.index!=null&&e?.index!=null&&n.index>e.index;(!e||o)&&(e=n)}return e?.key}extendSelection(e){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"){this.replaceSelection(e);return}const t=this.getKey(e);if(t==null)return;const n=this.state.selectedKeys(),o=n.anchorKey||t,i=new z(n,o,t);for(const s of this.getKeyRange(o,n.currentKey||t))i.delete(s);for(const s of this.getKeyRange(t,o))this.canSelectItem(s)&&i.add(s);this.state.setSelectedKeys(i)}getKeyRange(e,t){const n=this.collection().getItem(e),o=this.collection().getItem(t);return n&&o?n.index!=null&&o.index!=null&&n.index<=o.index?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){const n=[];let o=e;for(;o!=null;){const i=this.collection().getItem(o);if(i&&i.type==="item"&&n.push(o),o===t)return n;o=this.collection().getKeyAfter(o)}return[]}getKey(e){const t=this.collection().getItem(e);return t?!t||t.type!=="item"?null:t.key:e}toggleSelection(e){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}const t=this.getKey(e);if(t==null)return;const n=new z(this.state.selectedKeys());n.has(t)?n.delete(t):this.canSelectItem(t)&&(n.add(t),n.anchorKey=t,n.currentKey=t),!(this.disallowEmptySelection()&&n.size===0)&&this.state.setSelectedKeys(n)}replaceSelection(e){if(this.selectionMode()==="none")return;const t=this.getKey(e);if(t==null)return;const n=this.canSelectItem(t)?new z([t],t,t):new z;this.state.setSelectedKeys(n)}setSelectedKeys(e){if(this.selectionMode()==="none")return;const t=new z;for(const n of e){const o=this.getKey(n);if(o!=null&&(t.add(o),this.selectionMode()==="single"))break}this.state.setSelectedKeys(t)}selectAll(){this.selectionMode()==="multiple"&&this.state.setSelectedKeys(new Set(this.getAllSelectableKeys()))}clearSelection(){const e=this.state.selectedKeys();!this.disallowEmptySelection()&&e.size>0&&this.state.setSelectedKeys(new z)}toggleSelectAll(){this.isSelectAll()?this.clearSelection():this.selectAll()}select(e,t){this.selectionMode()!=="none"&&(this.selectionMode()==="single"?this.isSelected(e)&&!this.disallowEmptySelection()?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior()==="toggle"||t&&t.pointerType==="touch"?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys())return!0;const t=this.selectedKeys();if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;for(const n of t)if(!e.has(n))return!1;return!0}canSelectItem(e){if(this.state.selectionMode()==="none")return!1;const t=this.collection().getItem(e);return t!=null&&!t.disabled}isDisabled(e){const t=this.collection().getItem(e);return!t||t.disabled}getAllSelectableKeys(){const e=[];return(n=>{for(;n!=null;){if(this.canSelectItem(n)){const o=this.collection().getItem(n);if(!o)continue;o.type==="item"&&e.push(n)}n=this.collection().getKeyAfter(n)}})(this.collection().getFirstKey()),e}},vt=class{keyMap=new Map;iterable;firstKey;lastKey;constructor(e){this.iterable=e;for(const o of e)this.keyMap.set(o.key,o);if(this.keyMap.size===0)return;let t,n=0;for(const[o,i]of this.keyMap)t?(t.nextKey=o,i.prevKey=t.key):(this.firstKey=o,i.prevKey=void 0),i.type==="item"&&(i.index=n++),t=i,t.nextKey=void 0;this.lastKey=t.key}*[Symbol.iterator](){yield*this.iterable}getSize(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){return this.keyMap.get(e)?.prevKey}getKeyAfter(e){return this.keyMap.get(e)?.nextKey}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}};function fi(e){const t=Ko(e),o=xo({dataSource:()=>p(e.dataSource),getKey:()=>p(e.getKey),getTextValue:()=>p(e.getTextValue),getDisabled:()=>p(e.getDisabled),getSectionChildren:()=>p(e.getSectionChildren),factory:s=>e.filter?new vt(e.filter(s)):new vt(s)},[()=>e.filter]),i=new Oo(o,t);return yn(()=>{const s=t.focusedKey();s!=null&&!o().getItem(s)&&t.setFocusedKey(void 0)}),{collection:o,selectionManager:()=>i}}var Fo=class{collection;ref;collator;constructor(e,t,n){this.collection=e,this.ref=t,this.collator=n}getKeyBelow(e){let t=this.collection().getKeyAfter(e);for(;t!=null;){const n=this.collection().getItem(t);if(n&&n.type==="item"&&!n.disabled)return t;t=this.collection().getKeyAfter(t)}}getKeyAbove(e){let t=this.collection().getKeyBefore(e);for(;t!=null;){const n=this.collection().getItem(t);if(n&&n.type==="item"&&!n.disabled)return t;t=this.collection().getKeyBefore(t)}}getFirstKey(){let e=this.collection().getFirstKey();for(;e!=null;){const t=this.collection().getItem(e);if(t&&t.type==="item"&&!t.disabled)return e;e=this.collection().getKeyAfter(e)}}getLastKey(){let e=this.collection().getLastKey();for(;e!=null;){const t=this.collection().getItem(e);if(t&&t.type==="item"&&!t.disabled)return e;e=this.collection().getKeyBefore(e)}}getItem(e){return this.ref?.()?.querySelector(`[data-key="${e}"]`)??null}getKeyPageAbove(e){const t=this.ref?.();let n=this.getItem(e);if(!t||!n)return;const o=Math.max(0,n.offsetTop+n.offsetHeight-t.offsetHeight);let i=e;for(;i&&n&&n.offsetTop>o;)i=this.getKeyAbove(i),n=i!=null?this.getItem(i):null;return i}getKeyPageBelow(e){const t=this.ref?.();let n=this.getItem(e);if(!t||!n)return;const o=Math.min(t.scrollHeight,n.offsetTop-n.offsetHeight+t.offsetHeight);let i=e;for(;i&&n&&n.offsetTop<o;)i=this.getKeyBelow(i),n=i!=null?this.getItem(i):null;return i}getKeyForSearch(e,t){const n=this.collator?.();if(!n)return;let o=t!=null?this.getKeyBelow(t):this.getFirstKey();for(;o!=null;){const i=this.collection().getItem(o);if(i){const s=i.textValue.slice(0,e.length);if(i.textValue&&n.compare(s,e)===0)return o}o=this.getKeyBelow(o)}}};function di(e,t,n){const o=Qt({usage:"search",sensitivity:"base"}),i=U(()=>{const s=p(e.keyboardDelegate);return s||new Fo(e.collection,t,o)});return Po({selectionManager:()=>p(e.selectionManager),keyboardDelegate:i,autoFocus:()=>p(e.autoFocus),deferAutoFocus:()=>p(e.deferAutoFocus),shouldFocusWrap:()=>p(e.shouldFocusWrap),disallowEmptySelection:()=>p(e.disallowEmptySelection),selectOnFocus:()=>p(e.selectOnFocus),disallowTypeAhead:()=>p(e.disallowTypeAhead),shouldUseVirtualFocus:()=>p(e.shouldUseVirtualFocus),allowsTabNavigation:()=>p(e.allowsTabNavigation),isVirtualized:()=>p(e.isVirtualized),scrollToKey:s=>p(e.scrollToKey)?.(s),orientation:()=>p(e.orientation)},t,n)}var Re="data-kb-top-layer",jt,je=!1,j=[];function Ee(e){return j.findIndex(t=>t.node===e)}function Co(e){return j[Ee(e)]}function Do(e){return j[j.length-1].node===e}function qt(){return j.filter(e=>e.isPointerBlocking)}function ko(){return[...qt()].slice(-1)[0]}function ot(){return qt().length>0}function Yt(e){const t=Ee(ko()?.node);return Ee(e)<t}function Mo(e){j.push(e)}function Ro(e){const t=Ee(e);t<0||j.splice(t,1)}function Io(){for(const{node:e}of j)e.style.pointerEvents=Yt(e)?"none":"auto"}function No(e){if(ot()&&!je){const t=ge(e);jt=document.body.style.pointerEvents,t.body.style.pointerEvents="none",je=!0}}function Bo(e){if(ot())return;const t=ge(e);t.body.style.pointerEvents=jt,t.body.style.length===0&&t.body.removeAttribute("style"),je=!1}var Oe={layers:j,isTopMostLayer:Do,hasPointerBlockingLayer:ot,isBelowPointerBlockingLayer:Yt,addLayer:Mo,removeLayer:Ro,indexOf:Ee,find:Co,assignPointerEventToLayers:Io,disableBodyPointerEvents:No,restoreBodyPointerEvents:Bo},We="focusScope.autoFocusOnMount",ze="focusScope.autoFocusOnUnmount",wt={bubbles:!1,cancelable:!0},bt={stack:[],active(){return this.stack[0]},add(e){e!==this.active()&&this.active()?.pause(),this.stack=st(this.stack,e),this.stack.unshift(e)},remove(e){this.stack=st(this.stack,e),this.active()?.resume()}};function gi(e,t){const[n,o]=F(!1),i={pause(){o(!0)},resume(){o(!1)}};let s=null;const r=d=>e.onMountAutoFocus?.(d),u=d=>e.onUnmountAutoFocus?.(d),l=()=>ge(t()),c=()=>{const d=l().createElement("span");return d.setAttribute("data-focus-trap",""),d.tabIndex=0,Object.assign(d.style,ln),d},f=()=>{const d=t();return d?an(d,!0).filter(v=>!v.hasAttribute("data-focus-trap")):[]},a=()=>{const d=f();return d.length>0?d[0]:null},h=()=>{const d=f();return d.length>0?d[d.length-1]:null},m=()=>{const d=t();if(!d)return!1;const v=Le(d);return!v||le(d,v)?!1:cn(v)};L(()=>{if(ce)return;const d=t();if(!d)return;bt.add(i);const v=Le(d);if(!le(d,v)){const w=new CustomEvent(We,wt);d.addEventListener(We,r),d.dispatchEvent(w),w.defaultPrevented||setTimeout(()=>{I(a()),Le(d)===v&&I(d)},0)}P(()=>{d.removeEventListener(We,r),setTimeout(()=>{const w=new CustomEvent(ze,wt);m()&&w.preventDefault(),d.addEventListener(ze,u),d.dispatchEvent(w),w.defaultPrevented||I(v??l().body),d.removeEventListener(ze,u),bt.remove(i)},0)})}),L(()=>{if(ce)return;const d=t();if(!d||!p(e.trapFocus)||n())return;const v=w=>{const y=w.target;y?.closest(`[${Re}]`)||(le(d,y)?s=y:I(s))},g=w=>{const x=w.relatedTarget??Le(d);x?.closest(`[${Re}]`)||le(d,x)||I(s)};l().addEventListener("focusin",v),l().addEventListener("focusout",g),P(()=>{l().removeEventListener("focusin",v),l().removeEventListener("focusout",g)})}),L(()=>{if(ce)return;const d=t();if(!d||!p(e.trapFocus)||n())return;const v=c();d.insertAdjacentElement("afterbegin",v);const g=c();d.insertAdjacentElement("beforeend",g);function w(x){const S=a(),b=h();x.relatedTarget===S?I(b):I(S)}v.addEventListener("focusin",w),g.addEventListener("focusin",w);const y=new MutationObserver(x=>{for(const S of x)S.previousSibling===g&&(g.remove(),d.insertAdjacentElement("beforeend",g)),S.nextSibling===v&&(v.remove(),d.insertAdjacentElement("afterbegin",v))});y.observe(d,{childList:!0,subtree:!1}),P(()=>{v.removeEventListener("focusin",w),g.removeEventListener("focusin",w),v.remove(),g.remove(),y.disconnect()})})}var Vo="data-live-announcer";function hi(e){L(()=>{p(e.isDisabled)||P($o(p(e.targets),p(e.root)))})}var we=new WeakMap,M=[];function $o(e,t=document.body){const n=new Set(e),o=new Set,i=l=>{for(const h of l.querySelectorAll(`[${Vo}], [${Re}]`))n.add(h);const c=h=>{if(n.has(h)||h.parentElement&&o.has(h.parentElement)&&h.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(const m of n)if(h.contains(m))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},f=document.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,{acceptNode:c}),a=c(l);if(a===NodeFilter.FILTER_ACCEPT&&s(l),a!==NodeFilter.FILTER_REJECT){let h=f.nextNode();for(;h!=null;)s(h),h=f.nextNode()}},s=l=>{const c=we.get(l)??0;l.getAttribute("aria-hidden")==="true"&&c===0||(c===0&&l.setAttribute("aria-hidden","true"),o.add(l),we.set(l,c+1))};M.length&&M[M.length-1].disconnect(),i(t);const r=new MutationObserver(l=>{for(const c of l)if(!(c.type!=="childList"||c.addedNodes.length===0)&&![...n,...o].some(f=>f.contains(c.target))){for(const f of c.removedNodes)f instanceof Element&&(n.delete(f),o.delete(f));for(const f of c.addedNodes)(f instanceof HTMLElement||f instanceof SVGElement)&&(f.dataset.liveAnnouncer==="true"||f.dataset.reactAriaTopLayer==="true")?n.add(f):f instanceof Element&&i(f)}});r.observe(t,{childList:!0,subtree:!0});const u={observe(){r.observe(t,{childList:!0,subtree:!0})},disconnect(){r.disconnect()}};return M.push(u),()=>{r.disconnect();for(const l of o){const c=we.get(l);if(c==null)return;c===1?(l.removeAttribute("aria-hidden"),we.delete(l)):we.set(l,c-1)}u===M[M.length-1]?(M.pop(),M.length&&M[M.length-1].observe()):M.splice(M.indexOf(u),1)}}function _o(e){const t=n=>{n.key,un.Escape};L(()=>{if(ce||p(e.isDisabled))return;const n=e.ownerDocument?.()??ge();n.addEventListener("keydown",t),P(()=>{n.removeEventListener("keydown",t)})})}var xt="interactOutside.pointerDownOutside",St="interactOutside.focusOutside";function Wo(e,t){let n,o=fn;const i=()=>ge(t()),s=a=>e.onPointerDownOutside?.(a),r=a=>e.onFocusOutside?.(a),u=a=>e.onInteractOutside?.(a),l=a=>{const h=a.target;return!(h instanceof HTMLElement)||h.closest(`[${Re}]`)||!le(i(),h)||le(t(),h)?!1:!e.shouldExcludeElement?.(h)},c=a=>{function h(){const m=t(),d=a.target;if(!m||!d||!l(a))return;const v=rt([s,u]);d.addEventListener(xt,v,{once:!0});const g=new CustomEvent(xt,{bubbles:!1,cancelable:!0,detail:{originalEvent:a,isContextMenu:a.button===2||dn(a)&&a.button===0}});d.dispatchEvent(g)}a.pointerType==="touch"?(i().removeEventListener("click",h),o=h,i().addEventListener("click",h,{once:!0})):h()},f=a=>{const h=t(),m=a.target;if(!h||!m||!l(a))return;const d=rt([r,u]);m.addEventListener(St,d,{once:!0});const v=new CustomEvent(St,{bubbles:!1,cancelable:!0,detail:{originalEvent:a,isContextMenu:!1}});m.dispatchEvent(v)};L(()=>{ce||p(e.isDisabled)||(n=window.setTimeout(()=>{i().addEventListener("pointerdown",c,!0)},0),i().addEventListener("focusin",f,!0),P(()=>{window.clearTimeout(n),i().removeEventListener("click",o),i().removeEventListener("pointerdown",c,!0),i().removeEventListener("focusin",f,!0)}))})}var Xt=Ye();function zo(){return Xe(Xt)}function mi(e){let t;const n=zo(),[o,i]=Ke(e,["ref","disableOutsidePointerEvents","excludedElements","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","bypassTopMostLayerCheck"]),s=new Set([]),r=a=>{s.add(a);const h=n?.registerNestedLayer(a);return()=>{s.delete(a),h?.()}};Wo({shouldExcludeElement:a=>!1,onPointerDownOutside:a=>{},onFocusOutside:a=>{o.onFocusOutside?.(a),o.onInteractOutside?.(a),a.defaultPrevented||o.onDismiss?.()}},()=>t),_o({ownerDocument:()=>ge(t),onEscapeKeyDown:a=>{}}),Ct(()=>{}),L(Ie([()=>t,()=>o.disableOutsidePointerEvents],([a,h])=>{if(!a)return;const m=Oe.find(a);m&&m.isPointerBlocking!==h&&(m.isPointerBlocking=h,Oe.assignPointerEventToLayers()),h&&Oe.disableBodyPointerEvents(a),P(()=>{Oe.restoreBodyPointerEvents(a)})},{defer:!0}));const f={registerNestedLayer:r};return H(Xt.Provider,{value:f,get children(){return H(de,fe({as:"div"},i))}})}function yi(e={}){const[t,n]=xn({value:()=>p(e.open),defaultValue:()=>!!p(e.defaultOpen),onChange:r=>e.onOpenChange?.(r)}),o=()=>{n(!0)},i=()=>{n(!1)};return{isOpen:t,setIsOpen:n,open:o,close:i,toggle:()=>{t()?i():o()}}}var R=e=>typeof e=="function"?e():e,Fe=new Map,Ho=e=>{L(()=>{const t=R(e.style)??{},n=R(e.properties)??[],o={};for(const s in t)o[s]=e.element.style[s];const i=Fe.get(e.key);i?i.activeCount++:Fe.set(e.key,{activeCount:1,originalStyles:o,properties:n.map(s=>s.key)}),Object.assign(e.element.style,e.style);for(const s of n)e.element.style.setProperty(s.key,s.value);P(()=>{const s=Fe.get(e.key);if(s){if(s.activeCount!==1){s.activeCount--;return}Fe.delete(e.key);for(const[r,u]of Object.entries(s.originalStyles))e.element.style[r]=u;for(const r of s.properties)e.element.style.removeProperty(r);e.element.style.length===0&&e.element.removeAttribute("style"),e.cleanup?.()}})})},Et=Ho,Uo=(e,t)=>{switch(t){case"x":return[e.clientWidth,e.scrollLeft,e.scrollWidth];case"y":return[e.clientHeight,e.scrollTop,e.scrollHeight]}},jo=(e,t)=>{const n=getComputedStyle(e),o=t==="x"?n.overflowX:n.overflowY;return o==="auto"||o==="scroll"||e.tagName==="HTML"&&o==="visible"},qo=(e,t,n)=>{const o=t==="x"&&window.getComputedStyle(e).direction==="rtl"?-1:1;let i=e,s=0,r=0,u=!1;do{const[l,c,f]=Uo(i,t),a=f-l-o*c;(c!==0||a!==0)&&jo(i,t)&&(s+=a,r+=c),i===(n??document.documentElement)?u=!0:i=i._$host??i.parentElement}while(i&&!u);return[s,r]},[Kt,At]=F([]),Yo=e=>Kt().indexOf(e)===Kt().length-1,Xo=e=>{const t=Ft({element:null,enabled:!0,hideScrollbar:!0,preventScrollbarShift:!0,preventScrollbarShiftMode:"padding",restoreScrollPosition:!0,allowPinchZoom:!1},e),n=Dt();let o=[0,0],i=null,s=null;L(()=>{R(t.enabled)&&(At(c=>[...c,n]),P(()=>{At(c=>c.filter(f=>f!==n))}))}),L(()=>{if(!R(t.enabled)||!R(t.hideScrollbar))return;const{body:c}=document,f=window.innerWidth-c.offsetWidth;if(R(t.preventScrollbarShift)){const a={overflow:"hidden"},h=[];f>0&&(R(t.preventScrollbarShiftMode)==="padding"?a.paddingRight=`calc(${window.getComputedStyle(c).paddingRight} + ${f}px)`:a.marginRight=`calc(${window.getComputedStyle(c).marginRight} + ${f}px)`,h.push({key:"--scrollbar-width",value:`${f}px`}));const m=window.scrollY,d=window.scrollX;Et({key:"prevent-scroll",element:c,style:a,properties:h,cleanup:()=>{R(t.restoreScrollPosition)&&f>0&&window.scrollTo(d,m)}})}else Et({key:"prevent-scroll",element:c,style:{overflow:"hidden"}})}),L(()=>{!Yo(n)||!R(t.enabled)||(document.addEventListener("wheel",u,{passive:!1}),document.addEventListener("touchstart",r,{passive:!1}),document.addEventListener("touchmove",l,{passive:!1}),P(()=>{document.removeEventListener("wheel",u),document.removeEventListener("touchstart",r),document.removeEventListener("touchmove",l)}))});const r=c=>{o=Tt(c),i=null,s=null},u=c=>{const f=c.target,a=R(t.element),h=Go(c),m=Math.abs(h[0])>Math.abs(h[1])?"x":"y",d=m==="x"?h[0]:h[1],v=Lt(f,m,d,a);let g;a&&qe(a,f)?g=!v:g=!0,g&&c.cancelable&&c.preventDefault()},l=c=>{const f=R(t.element),a=c.target;let h;if(c.touches.length===2)h=!R(t.allowPinchZoom);else{if(i==null||s===null){const m=Tt(c).map((v,g)=>o[g]-v),d=Math.abs(m[0])>Math.abs(m[1])?"x":"y";i=d,s=d==="x"?m[0]:m[1]}if(a.type==="range")h=!1;else{const m=Lt(a,i,s,f);f&&qe(f,a)?h=!m:h=!0}}h&&c.cancelable&&c.preventDefault()}},Go=e=>[e.deltaX,e.deltaY],Tt=e=>e.changedTouches[0]?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0],Lt=(e,t,n,o)=>{const i=o!==null&&qe(o,e),[s,r]=qo(e,t,i?o:void 0);return!(n>0&&Math.abs(s)<=1||n<0&&Math.abs(r)<1)},qe=(e,t)=>{if(e.contains(t))return!0;let n=t;for(;n;){if(n===e)return!0;n=n._$host??n.parentElement}return!1},Zo=Xo,pi=Zo,Ce=e=>typeof e=="function"?e():e,Jo=e=>{const t=U(()=>{const r=Ce(e.element);if(r)return getComputedStyle(r)}),n=()=>t()?.animationName??"none",[o,i]=F(Ce(e.show)?"present":"hidden");let s="none";return L(r=>{const u=Ce(e.show);return pn(()=>{if(r===u)return u;const l=s,c=n();u?i("present"):c==="none"||t()?.display==="none"?i("hidden"):i(r===!0&&l!==c?"hiding":"hidden")}),u}),L(()=>{const r=Ce(e.element);if(!r)return;const u=c=>{c.target===r&&(s=n())},l=c=>{const a=n().includes(c.animationName);c.target===r&&a&&o()==="hiding"&&i("hidden")};r.addEventListener("animationstart",u),r.addEventListener("animationcancel",l),r.addEventListener("animationend",l),P(()=>{r.removeEventListener("animationstart",u),r.removeEventListener("animationcancel",l),r.removeEventListener("animationend",l)})}),{present:()=>o()==="present"||o()==="hiding",state:o,setState:i}},Qo=Jo,vi=Qo,wi=["id","name","validationState","required","disabled","readOnly"];function bi(e){const t=`form-control-${Dt()}`,n=ee({id:t},e),[o,i]=F(),[s,r]=F(),[u,l]=F(),[c,f]=F(),a=(v,g,w)=>{const y=w!=null||o()!=null;return[w,o(),y&&g!=null?v:void 0].filter(Boolean).join(" ")||void 0},h=v=>[u(),c(),v].filter(Boolean).join(" ")||void 0,m=U(()=>({"data-valid":p(n.validationState)==="valid"?"":void 0,"data-invalid":p(n.validationState)==="invalid"?"":void 0,"data-required":p(n.required)?"":void 0,"data-disabled":p(n.disabled)?"":void 0,"data-readonly":p(n.readOnly)?"":void 0}));return{formControlContext:{name:()=>p(n.name)??p(n.id),dataset:m,validationState:()=>p(n.validationState),isRequired:()=>p(n.required),isDisabled:()=>p(n.disabled),isReadOnly:()=>p(n.readOnly),labelId:o,fieldId:s,descriptionId:u,errorMessageId:c,getAriaLabelledBy:a,getAriaDescribedBy:h,generateId:hn(()=>p(n.id)),registerLabel:Te(i),registerField:Te(r),registerDescription:Te(l),registerErrorMessage:Te(f)}}}var ei=Ye();function Ve(){const e=Xe(ei);if(e===void 0)throw new Error("[kobalte]: `useFormControlContext` must be used within a `FormControlContext.Provider` component");return e}function xi(e){const t=Ve(),n=ee({id:t.generateId("description")},e);return L(()=>P(t.registerDescription(n.id))),H(de,fe({as:"div"},()=>t.dataset(),n))}function Si(e){const t=Ve(),n=ee({id:t.generateId("error-message")},e),[o,i]=Ke(n,["forceMount"]),s=()=>t.validationState()==="invalid";return L(()=>{s()&&P(t.registerErrorMessage(i.id))}),H(vn,{get when(){return o.forceMount||s()},get children(){return H(de,fe({as:"div"},()=>t.dataset(),i))}})}function Ei(e){let t;const n=Ve(),o=ee({id:n.generateId("label")},e),[i,s]=Ke(o,["ref"]),r=gn(()=>t,()=>"label");return L(()=>P(n.registerLabel(s.id))),H(de,fe({as:"label",get for(){return r()==="label"?n.fieldId():void 0}},()=>n.dataset(),s))}var Ki=["id","aria-label","aria-labelledby","aria-describedby"];function Ai(e){const t=Ve(),n=ee({id:t.generateId("field")},e);return L(()=>P(t.registerField(p(n.id)))),{fieldProps:{id:()=>p(n.id),ariaLabel:()=>p(n["aria-label"]),ariaLabelledBy:()=>t.getAriaLabelledBy(p(n.id),p(n["aria-label"]),p(n["aria-labelledby"])),ariaDescribedBy:()=>t.getAriaDescribedBy(p(n["aria-describedby"]))}}}function Ti(e,t){L(Ie(e,n=>{if(n==null)return;const o=ti(n);o!=null&&(o.addEventListener("reset",t,{passive:!0}),P(()=>{o.removeEventListener("reset",t)}))}))}function ti(e){return ni(e)?e.form:e.closest("form")}function ni(e){return e.matches("textarea, input, select, button")}export{mi as D,xi as F,Fo as L,ai as P,z as S,di as a,gi as b,ui as c,yi as d,vi as e,fi as f,hi as g,Wo as h,go as i,Si as j,Ei as k,Ki as l,Ai as m,wi as n,bi as o,Ti as p,ei as q,Eo as r,pi as s,Ao as t,Ve as u};
